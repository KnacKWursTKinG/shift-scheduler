var Wn=Object.defineProperty;var Nt=Object.getOwnPropertySymbols;var Xn=Object.prototype.hasOwnProperty,Jn=Object.prototype.propertyIsEnumerable;var mt=(t,e,n)=>e in t?Wn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rt=(t,e)=>{for(var n in e||(e={}))Xn.call(e,n)&&mt(t,n,e[n]);if(Nt)for(var n of Nt(e))Jn.call(e,n)&&mt(t,n,e[n]);return t};var pt=(t,e,n)=>(mt(t,typeof e!="symbol"?e+"":e,n),n);var E=(t,e,n)=>new Promise((l,o)=>{var s=a=>{try{i(n.next(a))}catch(c){o(c)}},r=a=>{try{i(n.throw(a))}catch(c){o(c)}},i=a=>a.done?l(a.value):Promise.resolve(a.value).then(s,r);i((n=n.apply(t,e)).next())});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function K(){}function W(t,e){for(const n in e)t[n]=e[n];return t}function Ln(t){return t()}function zt(){return Object.create(null)}function Me(t){t.forEach(Ln)}function jn(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Gn(t){return Object.keys(t).length===0}function ft(t,e,n,l){if(t){const o=On(t,e,n,l);return t[0](o)}}function On(t,e,n,l){return t[1]&&l?W(n.ctx.slice(),t[1](l(e))):n.ctx}function dt(t,e,n,l){if(t[2]&&l){const o=t[2](l(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const s=[],r=Math.max(e.dirty.length,o.length);for(let i=0;i<r;i+=1)s[i]=e.dirty[i]|o[i];return s}return e.dirty|o}return e.dirty}function ht(t,e,n,l,o,s){if(o){const r=On(e,n,l,s);t.p(r,o)}}function _t(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function fe(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Je(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}const Tn=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function u(t,e){t.appendChild(e)}function B(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function Ee(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function De(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function I(){return q(" ")}function Re(){return q("")}function J(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Kn=["width","height"];function Ge(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const l in e)e[l]==null?t.removeAttribute(l):l==="style"?t.style.cssText=e[l]:l==="__value"?t.value=t[l]=e[l]:n[l]&&n[l].set&&Kn.indexOf(l)===-1?t[l]=e[l]:_(t,l,e[l])}function at(t){return t===""?null:+t}function Qn(t){return Array.from(t.childNodes)}function be(t,e){e=""+e,t.data!==e&&(t.data=e)}function oe(t,e){t.value=e==null?"":e}function nt(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Ke(t,e,n){for(let l=0;l<t.options.length;l+=1){const o=t.options[l];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ct(t){const e=t.querySelector(":checked");return e&&e.__value}function Q(t,e,n){t.classList.toggle(e,!!n)}function Zn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}let st;function lt(t){st=t}function In(){if(!st)throw new Error("Function called outside component initialization");return st}function xn(t){In().$$.on_mount.push(t)}function Pe(){const t=In();return(e,n,{cancelable:l=!1}={})=>{const o=t.$$.callbacks[e];if(o){const s=Zn(e,n,{cancelable:l});return o.slice().forEach(r=>{r.call(t,s)}),!s.defaultPrevented}return!0}}function An(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const We=[],he=[];let Xe=[];const kt=[],el=Promise.resolve();let wt=!1;function tl(){wt||(wt=!0,el.then(Nn))}function Qe(t){Xe.push(t)}function Bn(t){kt.push(t)}const bt=new Set;let qe=0;function Nn(){if(qe!==0)return;const t=st;do{try{for(;qe<We.length;){const e=We[qe];qe++,lt(e),nl(e.$$)}}catch(e){throw We.length=0,qe=0,e}for(lt(null),We.length=0,qe=0;he.length;)he.pop()();for(let e=0;e<Xe.length;e+=1){const n=Xe[e];bt.has(n)||(bt.add(n),n())}Xe.length=0}while(We.length);for(;kt.length;)kt.pop()();wt=!1,bt.clear(),lt(t)}function nl(t){if(t.fragment!==null){t.update(),Me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Qe)}}function ll(t){const e=[],n=[];Xe.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Xe=e}const it=new Set;let Ne;function ke(){Ne={r:0,c:[],p:Ne}}function we(){Ne.r||Me(Ne.c),Ne=Ne.p}function S(t,e){t&&t.i&&(it.delete(t),t.i(e))}function j(t,e,n,l){if(t&&t.o){if(it.has(t))return;it.add(t),Ne.c.push(()=>{it.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function ie(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ve(t,e){const n={},l={},o={$$scope:1};let s=t.length;for(;s--;){const r=t[s],i=e[s];if(i){for(const a in r)a in i||(l[a]=1);for(const a in i)o[a]||(n[a]=i[a],o[a]=1);t[s]=i}else for(const a in r)o[a]=1}for(const r in l)r in n||(n[r]=void 0);return n}function Se(t){return typeof t=="object"&&t!==null?t:{}}function Rn(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function V(t){t&&t.c()}function H(t,e,n){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),Qe(()=>{const s=t.$$.on_mount.map(Ln).filter(jn);t.$$.on_destroy?t.$$.on_destroy.push(...s):Me(s),t.$$.on_mount=[]}),o.forEach(Qe)}function U(t,e){const n=t.$$;n.fragment!==null&&(ll(n.after_update),Me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function sl(t,e){t.$$.dirty[0]===-1&&(We.push(t),tl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function te(t,e,n,l,o,s,r,i=[-1]){const a=st;lt(t);const c=t.$$={fragment:null,ctx:[],props:s,update:K,not_equal:o,bound:zt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:zt(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(d,m,...p)=>{const h=p.length?p[0]:m;return c.ctx&&o(c.ctx[d],c.ctx[d]=h)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](h),f&&sl(t,d)),m}):[],c.update(),f=!0,Me(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const d=Qn(e.target);c.fragment&&c.fragment.l(d),d.forEach(A)}else c.fragment&&c.fragment.c();e.intro&&S(t.$$.fragment),H(t,e.target,e.anchor),Nn()}lt(a)}class ne{constructor(){pt(this,"$$");pt(this,"$$set")}$destroy(){U(this,1),this.$destroy=K}$on(e,n){if(!jn(n))return K;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!Gn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ol="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ol);const rl="modulepreload",il=function(t){return"/"+t},Ft={},Et=function(e,n,l){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=il(s),s in Ft)return;Ft[s]=!0;const r=s.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(!!l)for(let f=o.length-1;f>=0;f--){const d=o[f];if(d.href===s&&(!r||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${i}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":rl,r||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),r)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const al=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},l=(s,r)=>{n.platforms.set(s,r)},o=s=>{n.platforms.has(s)&&(n.currentPlatform=n.platforms.get(s))};return n.addPlatform=l,n.setPlatform=o,n},cl=t=>t.CapacitorPlatforms=al(t),zn=cl(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});zn.addPlatform;zn.setPlatform;var Ze;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Ze||(Ze={}));class vt extends Error{constructor(e,n,l){super(e),this.message=e,this.code=n,this.data=l}}const ul=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},fl=t=>{var e,n,l,o,s;const r=t.CapacitorCustomPlatform||null,i=t.Capacitor||{},a=i.Plugins=i.Plugins||{},c=t.CapacitorPlatforms,f=()=>r!==null?r.name:ul(t),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||f,m=()=>d()!=="web",p=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||m,h=b=>{const k=D.get(b);return!!(k!=null&&k.platforms.has(d())||O(b))},$=((l=c==null?void 0:c.currentPlatform)===null||l===void 0?void 0:l.isPluginAvailable)||h,C=b=>{var k;return(k=i.PluginHeaders)===null||k===void 0?void 0:k.find(L=>L.name===b)},O=((o=c==null?void 0:c.currentPlatform)===null||o===void 0?void 0:o.getPluginHeader)||C,P=b=>t.console.error(b),v=(b,k,L)=>Promise.reject(`${L} does not have an implementation of "${k}".`),D=new Map,y=(b,k={})=>{const L=D.get(b);if(L)return console.warn(`Capacitor plugin "${b}" already registered. Cannot register plugins twice.`),L.proxy;const M=d(),R=O(b);let w;const N=()=>E(void 0,null,function*(){return!w&&M in k?w=typeof k[M]=="function"?w=yield k[M]():w=k[M]:r!==null&&!w&&"web"in k&&(w=typeof k.web=="function"?w=yield k.web():w=k.web),w}),X=(re,F)=>{var ee,ue;if(R){const me=R==null?void 0:R.methods.find(ge=>F===ge.name);if(me)return me.rtype==="promise"?ge=>i.nativePromise(b,F.toString(),ge):(ge,Le)=>i.nativeCallback(b,F.toString(),ge,Le);if(re)return(ee=re[F])===null||ee===void 0?void 0:ee.bind(re)}else{if(re)return(ue=re[F])===null||ue===void 0?void 0:ue.bind(re);throw new vt(`"${b}" plugin is not implemented on ${M}`,Ze.Unimplemented)}},ae=re=>{let F;const ee=(...ue)=>{const me=N().then(ge=>{const Le=X(ge,re);if(Le){const pe=Le(...ue);return F=pe==null?void 0:pe.remove,pe}else throw new vt(`"${b}.${re}()" is not implemented on ${M}`,Ze.Unimplemented)});return re==="addListener"&&(me.remove=()=>E(void 0,null,function*(){return F()})),me};return ee.toString=()=>`${re.toString()}() { [capacitor code] }`,Object.defineProperty(ee,"name",{value:re,writable:!1,configurable:!1}),ee},Z=ae("addListener"),T=ae("removeListener"),_e=(re,F)=>{const ee=Z({eventName:re},F),ue=()=>E(void 0,null,function*(){const ge=yield ee;T({eventName:re,callbackId:ge},F)}),me=new Promise(ge=>ee.then(()=>ge({remove:ue})));return me.remove=()=>E(void 0,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield ue()}),me},ce=new Proxy({},{get(re,F){switch(F){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return R?_e:Z;case"removeListener":return T;default:return ae(F)}}});return a[b]=ce,D.set(b,{name:b,proxy:ce,platforms:new Set([...Object.keys(k),...R?[M]:[]])}),ce},Y=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||y;return i.convertFileSrc||(i.convertFileSrc=b=>b),i.getPlatform=d,i.handleError=P,i.isNativePlatform=p,i.isPluginAvailable=$,i.pluginMethodNoop=v,i.registerPlugin=Y,i.Exception=vt,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i.platform=i.getPlatform(),i.isNative=i.isNativePlatform(),i},dl=t=>t.Capacitor=fl(t),ct=dl(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),ot=ct.registerPlugin;ct.Plugins;class Fn{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o);const s=()=>E(this,null,function*(){return this.removeListener(e,n)}),r=Promise.resolve({remove:s});return Object.defineProperty(r,"remove",{value:()=>E(this,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield s()})}),r}removeAllListeners(){return E(this,null,function*(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}})}notifyListeners(e,n){const l=this.listeners[e];l&&l.forEach(o=>o(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:l=>{this.notifyListeners(n,l)}}}unimplemented(e="not implemented"){return new ct.Exception(e,Ze.Unimplemented)}unavailable(e="not available"){return new ct.Exception(e,Ze.Unavailable)}removeListener(e,n){return E(this,null,function*(){const l=this.listeners[e];if(!l)return;const o=l.indexOf(n);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])})}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const Ht=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ut=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class hl extends Fn{getCookies(){return E(this,null,function*(){const e=document.cookie,n={};return e.split(";").forEach(l=>{if(l.length<=0)return;let[o,s]=l.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=Ut(o).trim(),s=Ut(s).trim(),n[o]=s}),n})}setCookie(e){return E(this,null,function*(){try{const n=Ht(e.key),l=Ht(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),r=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${l||""}${o}; path=${s}; ${r};`}catch(n){return Promise.reject(n)}})}deleteCookie(e){return E(this,null,function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})}clearCookies(){return E(this,null,function*(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})}clearAllCookies(){return E(this,null,function*(){try{yield this.clearCookies()}catch(e){return Promise.reject(e)}})}}ot("CapacitorCookies",{web:()=>new hl});const _l=t=>E(void 0,null,function*(){return new Promise((e,n)=>{const l=new FileReader;l.onload=()=>{const o=l.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},l.onerror=o=>n(o),l.readAsDataURL(t)})}),gl=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(o=>o.toLocaleLowerCase()).reduce((o,s,r)=>(o[s]=t[e[r]],o),{})},ml=(t,e=!0)=>t?Object.entries(t).reduce((l,o)=>{const[s,r]=o;let i,a;return Array.isArray(r)?(a="",r.forEach(c=>{i=e?encodeURIComponent(c):c,a+=`${s}=${i}&`}),a.slice(0,-1)):(i=e?encodeURIComponent(r):r,a=`${s}=${i}`),`${l}&${a}`},"").substr(1):null,pl=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),o=gl(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(o.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[r,i]of Object.entries(t.data||{}))s.set(r,i);n.body=s.toString()}else if(o.includes("multipart/form-data")){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((i,a)=>{s.append(a,i)});else for(const i of Object.keys(t.data))s.append(i,t.data[i]);n.body=s;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(o.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class bl extends Fn{request(e){return E(this,null,function*(){const n=pl(e,e.webFetchExtra),l=ml(e.params,e.shouldEncodeUrlParams),o=l?`${e.url}?${l}`:e.url,s=yield fetch(o,n),r=s.headers.get("content-type")||"";let{responseType:i="text"}=s.ok?e:{};r.includes("application/json")&&(i="json");let a,c;switch(i){case"arraybuffer":case"blob":c=yield s.blob(),a=yield _l(c);break;case"json":a=yield s.json();break;case"document":case"text":default:a=yield s.text()}const f={};return s.headers.forEach((d,m)=>{f[m]=d}),{data:a,headers:f,status:s.status,url:s.url}})}get(e){return E(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))})}post(e){return E(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))})}put(e){return E(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))})}patch(e){return E(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})}delete(e){return E(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})}}ot("CapacitorHttp",{web:()=>new bl});const vl=ot("App",{web:()=>Et(()=>import("./web-88616b3c.js"),[]).then(t=>new t.AppWeb)});var yt;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE"})(yt||(yt={}));var Dt;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(Dt||(Dt={}));const $l=ot("Filesystem",{web:()=>Et(()=>import("./web-9fe10fa0.js"),[]).then(t=>new t.FilesystemWeb)}),kl=ot("Share",{web:()=>Et(()=>import("./web-b037def7.js"),[]).then(t=>new t.ShareWeb)});function wl(t){try{for(const[e,n]of Object.entries(t))if(typeof e=="string"&&(!Object.hasOwn(n,"shift")||!Object.hasOwn(n,"note")||n.shift!==null&&(!Object.hasOwn(n.shift,"id")||!Object.hasOwn(n.shift,"name")||!Object.hasOwn(n.shift,"shortName")||!Object.hasOwn(n.shift,"visible")||typeof n.shift.id!="number"||typeof n.shift.name!="string"||typeof n.shift.shortName!="string"||typeof n.shift.visible!="boolean")||typeof n.note!="string"))return!1}catch(e){return!1}return!0}function Pt(){const t=[];for(let e=0;e<window.localStorage.length;e++){const l=window.localStorage.key(e).split("-",3);if(l.length===3){if(l[0]!=="db")continue;const o=parseInt(l[1],10),s=parseInt(l[2],10);if(isNaN(o)||isNaN(s)||s<0||s>11)continue;t.push({year:o,month:s})}}return t}function ze(t,e){return E(this,null,function*(){const n=window.localStorage.getItem(`db-${t}-${e}`);return n?JSON.parse(n):{}})}function Mt(t,e,n){return E(this,null,function*(){window.localStorage.setItem(`db-${t}-${e}`,JSON.stringify(n))})}function Hn(t,e){return E(this,null,function*(){window.localStorage.removeItem(`db-${t}-${e}`)})}function yl(t,e,n){return E(this,null,function*(){return(yield ze(t,e))[n]||{shift:null,note:""}})}function $t(t,e,n,l,o){return E(this,null,function*(){const s=yield ze(t,e);s[n]={shift:l,note:o},yield Mt(t,e,s)})}function St(t,e,n){return E(this,null,function*(){const l=yield ze(t,e);delete l[n],Object.keys(l).length?yield Mt(t,e,l):yield Hn(t,e)})}function Dl(){return E(this,null,function*(){const t={};for(const{year:e,month:n}of Pt())t[`db-${e}-${n}`]=yield ze(e,n);return t})}function Pl(t,e="browser"){return E(this,null,function*(){switch(e){case"browser":yield Sl(t);break;case"android":yield Cl(t);break;default:throw`Unknown platform "${e}"`}})}function Sl(t){return E(this,null,function*(){const e=new Blob([JSON.stringify(t)],{type:"octet/stream"}),n=document.createElement("a");n.setAttribute("href",window.URL.createObjectURL(e)),n.setAttribute("download","shift-scheduler-storage-data.json"),n.click()})}function Cl(t){return E(this,null,function*(){const e="shift-scheduler-storage-data.json",n=yield $l.writeFile({path:e,data:JSON.stringify(t),encoding:Dt.UTF8,directory:yt.Cache});kl.share({title:e,url:n.uri,dialogTitle:"Storage data backup"})})}const El=`{
    "shifts": [],
    "startDate": "",
    "shiftRhythm": [],
    "currentTheme": "custom",
    "mode": "auto"
}`;let G;function Un(){return E(this,null,function*(){G=JSON.parse(localStorage.getItem("settings")||El)})}function Ml(t=null){return E(this,null,function*(){t&&(G=t),G.shiftRhythm.findIndex(e=>typeof e!="number")!==-1&&(console.error("Wrong data type in shift!"),G.shiftRhythm=G.shiftRhythm.filter(e=>typeof e=="number")),localStorage.setItem("settings",JSON.stringify(G))})}function ut(t){if(G)return G.shifts.find(e=>e.id===t)}function Lt(){return/(android)/i.test(navigator.userAgent)}function Vn(t){if(!(G!=null&&G.startDate)||!(G!=null&&G.shiftRhythm.length))return null;if(typeof G.startDate=="string"&&(G.startDate=new Date(G.startDate)),G.startDate.getTime()>t.getTime()){const l=(G.startDate.getTime()-t.getTime())/864e5;let o=Math.round(G.shiftRhythm.length-l%G.shiftRhythm.length);return o===G.shiftRhythm.length&&(o=0),G.shifts.find(r=>r.id===G.shiftRhythm[o])||null}const e=Math.round((t.getTime()-G.startDate.getTime())/(1e3*60*60*24));return G.shifts.find(l=>l.id===G.shiftRhythm[e%G.shiftRhythm.length])||null}function Vt(t){let e,n;return{c(){e=De("title"),n=q(t[0])},m(l,o){B(l,e,o),u(e,n)},p(l,o){o&1&&be(n,l[0])},d(l){l&&A(e)}}}function Ll(t){let e,n,l,o=t[0]&&Vt(t);const s=t[3].default,r=ft(s,t,t[2],null);return{c(){e=De("svg"),o&&o.c(),n=Re(),r&&r.c(),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox",t[1]),_(e,"class","svelte-c8tyih")},m(i,a){B(i,e,a),o&&o.m(e,null),u(e,n),r&&r.m(e,null),l=!0},p(i,[a]){i[0]?o?o.p(i,a):(o=Vt(i),o.c(),o.m(e,n)):o&&(o.d(1),o=null),r&&r.p&&(!l||a&4)&&ht(r,s,i,i[2],l?dt(s,i[2],a,null):_t(i[2]),null),(!l||a&2)&&_(e,"viewBox",i[1])},i(i){l||(S(r,i),l=!0)},o(i){j(r,i),l=!1},d(i){i&&A(e),o&&o.d(),r&&r.d(i)}}}function jl(t,e,n){let{$$slots:l={},$$scope:o}=e,{title:s=null}=e,{viewBox:r}=e;return t.$$set=i=>{"title"in i&&n(0,s=i.title),"viewBox"in i&&n(1,r=i.viewBox),"$$scope"in i&&n(2,o=i.$$scope)},[s,r,o,l]}class Oe extends ne{constructor(e){super(),te(this,e,jl,Ll,x,{title:0,viewBox:1})}}function Ol(t){let e;return{c(){e=De("path"),_(e,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z")},m(n,l){B(n,e,l)},p:K,d(n){n&&A(e)}}}function Tl(t){let e,n;const l=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[Ol]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=W(o,l[s]);return e=new Oe({props:o}),{c(){V(e.$$.fragment)},m(s,r){H(e,s,r),n=!0},p(s,[r]){const i=r&1?ve(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function Il(t,e,n){return t.$$set=l=>{n(0,e=W(W({},e),fe(l)))},e=fe(e),[e]}class Al extends ne{constructor(e){super(),te(this,e,Il,Tl,x,{})}}function Bl(t){let e;return{c(){e=De("path"),_(e,"d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z")},m(n,l){B(n,e,l)},p:K,d(n){n&&A(e)}}}function Nl(t){let e,n;const l=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[Bl]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=W(o,l[s]);return e=new Oe({props:o}),{c(){V(e.$$.fragment)},m(s,r){H(e,s,r),n=!0},p(s,[r]){const i=r&1?ve(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function Rl(t,e,n){return t.$$set=l=>{n(0,e=W(W({},e),fe(l)))},e=fe(e),[e]}class zl extends ne{constructor(e){super(),te(this,e,Rl,Nl,x,{})}}function Fl(t){let e;return{c(){e=De("path"),_(e,"d","M19.164 19.547c-1.641-2.5-3.669-3.285-6.164-3.484v1.437c0 .534-.208 1.036-.586 1.414-.756.756-2.077.751-2.823.005l-6.293-6.207c-.191-.189-.298-.444-.298-.713s.107-.524.298-.712l6.288-6.203c.754-.755 2.073-.756 2.829.001.377.378.585.88.585 1.414v1.704c4.619.933 8 4.997 8 9.796v1c0 .442-.29.832-.714.958-.095.027-.19.042-.286.042-.331 0-.646-.165-.836-.452zm-7.141-5.536c2.207.056 4.638.394 6.758 2.121-.768-3.216-3.477-5.702-6.893-6.08-.504-.056-.888-.052-.888-.052v-3.497l-5.576 5.496 5.576 5.5v-3.499l1.023.011z")},m(n,l){B(n,e,l)},p:K,d(n){n&&A(e)}}}function Hl(t){let e,n;const l=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[Fl]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=W(o,l[s]);return e=new Oe({props:o}),{c(){V(e.$$.fragment)},m(s,r){H(e,s,r),n=!0},p(s,[r]){const i=r&1?ve(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function Ul(t,e,n){return t.$$set=l=>{n(0,e=W(W({},e),fe(l)))},e=fe(e),[e]}class Vl extends ne{constructor(e){super(),te(this,e,Ul,Hl,x,{})}}function Yl(t){let e;return{c(){e=De("path"),_(e,"d","M20.285 7.119c-.05-.168-.184-.299-.354-.344-.172-.047-.352.003-.477.126l-2.616 2.557-1.914-.383-.381-1.907 2.645-2.585c.126-.123.178-.303.137-.474s-.168-.308-.336-.361c-.531-.166-1.018-.248-1.489-.248-2.757 0-5 2.243-5 5 0 .323.038.65.118 1.01-.562.463-1.096.862-1.701 1.314-.865.646-1.845 1.377-3.182 2.506-.785.686-1.235 1.659-1.235 2.67 0 1.93 1.57 3.5 3.5 3.5 1.021 0 1.993-.456 2.662-1.25 1.149-1.347 1.891-2.336 2.544-3.209.442-.591.832-1.111 1.283-1.66.36.081.688.119 1.011.119 2.757 0 5-2.243 5-5 0-.437-.068-.875-.215-1.381zm-12.285 9.881c-.553 0-1-.447-1-1s.447-1 1-1 1 .447 1 1-.447 1-1 1z")},m(n,l){B(n,e,l)},p:K,d(n){n&&A(e)}}}function ql(t){let e,n;const l=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[Yl]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=W(o,l[s]);return e=new Oe({props:o}),{c(){V(e.$$.fragment)},m(s,r){H(e,s,r),n=!0},p(s,[r]){const i=r&1?ve(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function Wl(t,e,n){return t.$$set=l=>{n(0,e=W(W({},e),fe(l)))},e=fe(e),[e]}class Xl extends ne{constructor(e){super(),te(this,e,Wl,ql,x,{})}}function Jl(t){let e,n,l=t[1].getFullYear()+"",o,s,r=(t[1].getMonth()+1).toString().padStart(2,"0")+"",i,a,c,f,d=[{class:a="date-picker--preview outline"+t[0]},t[3]],m={};for(let p=0;p<d.length;p+=1)m=W(m,d[p]);return{c(){e=g("button"),n=g("span"),o=q(l),s=q(" / "),i=q(r),Ge(e,m),Q(e,"svelte-s4b8vb",!0)},m(p,h){B(p,e,h),u(e,n),u(n,o),u(n,s),u(n,i),e.autofocus&&e.focus(),c||(f=J(e,"click",t[4]),c=!0)},p(p,[h]){h&2&&l!==(l=p[1].getFullYear()+"")&&be(o,l),h&2&&r!==(r=(p[1].getMonth()+1).toString().padStart(2,"0")+"")&&be(i,r),Ge(e,m=ve(d,[h&1&&a!==(a="date-picker--preview outline"+p[0])&&{class:a},h&8&&p[3]])),Q(e,"svelte-s4b8vb",!0)},i:K,o:K,d(p){p&&A(e),c=!1,f()}}}function Gl(t,e,n){const l=["class","currentDate"];let o=Je(e,l);const s=Pe();let{class:r=""}=e,{currentDate:i}=e;const a=()=>{setTimeout(()=>{s("click",{year:i.getFullYear(),month:i.getMonth()})},100)};return t.$$set=c=>{e=W(W({},e),fe(c)),n(3,o=Je(e,l)),"class"in c&&n(0,r=c.class),"currentDate"in c&&n(1,i=c.currentDate)},[r,i,s,o,a]}class Kl extends ne{constructor(e){super(),te(this,e,Gl,Jl,x,{class:0,currentDate:1})}}function Ql(t){let e,n,l,o,s,r;const i=t[6].default,a=ft(i,t,t[5],null);let c=[{class:n=`${t[1]} outline icon-button ${t[0]}`},{style:l=`
        margin: ${t[2]!==void 0?t[2]:"var(--spacing)"};
    `},t[4]],f={};for(let d=0;d<c.length;d+=1)f=W(f,c[d]);return{c(){e=g("button"),a&&a.c(),Ge(e,f),Q(e,"svelte-85aqty",!0)},m(d,m){B(d,e,m),a&&a.m(e,null),e.autofocus&&e.focus(),o=!0,s||(r=J(e,"click",t[7]),s=!0)},p(d,[m]){a&&a.p&&(!o||m&32)&&ht(a,i,d,d[5],o?dt(i,d[5],m,null):_t(d[5]),null),Ge(e,f=ve(c,[(!o||m&3&&n!==(n=`${d[1]} outline icon-button ${d[0]}`))&&{class:n},(!o||m&4&&l!==(l=`
        margin: ${d[2]!==void 0?d[2]:"var(--spacing)"};
    `))&&{style:l},m&16&&d[4]])),Q(e,"svelte-85aqty",!0)},i(d){o||(S(a,d),o=!0)},o(d){j(a,d),o=!1},d(d){d&&A(e),a&&a.d(d),s=!1,r()}}}function Zl(t,e,n){const l=["class","variant","margin"];let o=Je(e,l),{$$slots:s={},$$scope:r}=e,{class:i=""}=e,{variant:a="contrast"}=e,{margin:c=void 0}=e;const f=Pe(),d=()=>{setTimeout(()=>{f("click")},100)};return t.$$set=m=>{e=W(W({},e),fe(m)),n(4,o=Je(e,l)),"class"in m&&n(0,i=m.class),"variant"in m&&n(1,a=m.variant),"margin"in m&&n(2,c=m.margin),"$$scope"in m&&n(5,r=m.$$scope)},[i,a,c,f,o,r,s,d]}class Ie extends ne{constructor(e){super(),te(this,e,Zl,Ql,x,{class:0,variant:1,margin:2})}}function Yt(t,e,n){const l=t.slice();return l[7]=e[n],l[18]=n,l}function qt(t){let e,n,l,o=(t[2]+1).toString().padStart(2,"0")+"",s,r,i=t[3].toString().padStart(2,"0")+"",a;return{c(){e=g("header"),n=q(t[1]),l=q(" / "),s=q(o),r=q(`\r
                / `),a=q(i)},m(c,f){B(c,e,f),u(e,n),u(e,l),u(e,s),u(e,r),u(e,a)},p(c,f){f&2&&be(n,c[1]),f&4&&o!==(o=(c[2]+1).toString().padStart(2,"0")+"")&&be(s,o),f&8&&i!==(i=c[3].toString().padStart(2,"0")+"")&&be(a,i)},d(c){c&&A(e)}}}function Wt(t){let e,n=t[7].name+"",l,o;return{c(){e=g("option"),l=q(n),e.__value=t[18].toString(),oe(e,e.__value),e.selected=o=t[6]===t[18].toString()},m(s,r){B(s,e,r),u(e,l)},p(s,r){r&64&&o!==(o=s[6]===s[18].toString())&&(e.selected=o)},d(s){s&&A(e)}}}function xl(t){var k;let e,n,l,o,s,r,i=(((k=t[4])==null?void 0:k.name)||"")+"",a,c,f,d,m,p,h,$,C,O,P,v,D,y=!!t[3]&&qt(t),Y=ie(t[9].shifts),b=[];for(let L=0;L<Y.length;L+=1)b[L]=Wt(Yt(t,Y,L));return{c(){e=g("dialog"),n=g("article"),y&&y.c(),l=I(),o=g("select"),s=g("option"),r=q("(Default) "),a=q(i);for(let L=0;L<b.length;L+=1)b[L].c();f=I(),d=g("label"),m=q(`Note\r
            `),p=g("textarea"),h=I(),$=g("footer"),C=g("button"),C.textContent="Cancel",O=I(),P=g("button"),P.textContent="Confirm",s.__value="-1",oe(s,s.__value),s.selected=c=t[6]==="-1",t[6]===void 0&&Qe(()=>t[12].call(o)),_(p,"name","note"),_(p,"cols","30"),_(p,"rows","10"),_(p,"class","svelte-1nsz3pc"),_(d,"for","note"),_(d,"class","svelte-1nsz3pc"),_(C,"class","contrast")},m(L,M){B(L,e,M),u(e,n),y&&y.m(n,null),u(n,l),u(n,o),u(o,s),u(s,r),u(s,a);for(let R=0;R<b.length;R+=1)b[R]&&b[R].m(o,null);Ke(o,t[6],!0),u(n,f),u(n,d),u(d,m),u(d,p),oe(p,t[5]),u(n,h),u(n,$),u($,C),u($,O),u($,P),t[16](e),v||(D=[J(o,"change",t[12]),J(p,"input",t[13]),J(C,"click",t[14]),J(P,"click",t[15])],v=!0)},p(L,[M]){var R;if(L[3]?y?y.p(L,M):(y=qt(L),y.c(),y.m(n,l)):y&&(y.d(1),y=null),M&16&&i!==(i=(((R=L[4])==null?void 0:R.name)||"")+"")&&be(a,i),M&64&&c!==(c=L[6]==="-1")&&(s.selected=c),M&576){Y=ie(L[9].shifts);let w;for(w=0;w<Y.length;w+=1){const N=Yt(L,Y,w);b[w]?b[w].p(N,M):(b[w]=Wt(N),b[w].c(),b[w].m(o,null))}for(;w<b.length;w+=1)b[w].d(1);b.length=Y.length}M&64&&Ke(o,L[6]),M&32&&oe(p,L[5])},i:K,o:K,d(L){L&&A(e),y&&y.d(),Ee(b,L),t[16](null),v=!1,Me(D)}}}function es(t,e,n){const l=Pe();let o,s,r,i,a,c,f,d="-1",m=JSON.parse(localStorage.getItem("settings")||'{ "shifts": [], "startDate": "", "shiftRhythm": []}');function p(D,y,Y){return E(this,null,function*(){n(1,s=D),n(2,r=y),n(3,i=Y);const b=(yield ze(s,r))[`${s}-${r}-${i}`];n(4,a=Vn(new Date(s,r,i))),n(7,c=(b==null?void 0:b.shift)||null),c?n(6,d=m.shifts.findIndex(k=>k.name===(c==null?void 0:c.name)).toString()):n(6,d="-1"),n(5,f=(b==null?void 0:b.note)||""),o.show()})}function h(){return E(this,null,function*(){o.close()})}function $(){d=Ct(this),n(6,d)}function C(){f=this.value,n(5,f)}const O=()=>E(this,null,function*(){return l("cancel")}),P=()=>l("submit",{date:{year:s,month:r,date:i},shift:m.shifts.find((D,y)=>y.toString()===d)||null,note:f});function v(D){he[D?"unshift":"push"](()=>{o=D,n(0,o)})}return[o,s,r,i,a,f,d,c,l,m,p,h,$,C,O,P,v]}class ts extends ne{constructor(e){super(),te(this,e,es,xl,x,{open:10,close:11})}get open(){return this.$$.ctx[10]}get close(){return this.$$.ctx[11]}}function ns(t){let e,n,l,o,s,r,i,a,c,f,d,m,p,h,$,C,O,P,v,D,y,Y,b,k;return{c(){e=g("dialog"),n=g("article"),l=g("label"),o=q(`Shift Name\r
            `),s=g("input"),r=I(),i=g("label"),a=q(`Short Shift Name\r
            `),c=g("input"),f=I(),d=g("label"),m=g("input"),p=q(`\r
            Hidden Shift (Not visible in calendar)`),h=I(),$=g("label"),C=q(`Color\r
            `),O=g("input"),P=I(),v=g("footer"),D=g("button"),D.textContent="Cancel",y=I(),Y=g("button"),Y.textContent="Confirm",_(s,"type","text"),_(s,"name","name"),_(l,"for","name"),_(l,"class","svelte-1kp7uzd"),_(c,"type","text"),_(c,"name","shortName"),_(i,"for","shortName"),_(i,"class","svelte-1kp7uzd"),_(m,"type","checkbox"),_(m,"name","hidden"),_(d,"for","hidden"),_(d,"class","svelte-1kp7uzd"),_(O,"type","color"),_(O,"name","color"),_($,"for","color"),_($,"class","svelte-1kp7uzd"),_(D,"class","contrast"),_(v,"class","svelte-1kp7uzd"),_(n,"class","svelte-1kp7uzd"),_(e,"class","svelte-1kp7uzd")},m(L,M){B(L,e,M),u(e,n),u(n,l),u(l,o),u(l,s),oe(s,t[1]),u(n,r),u(n,i),u(i,a),u(i,c),oe(c,t[2]),u(n,f),u(n,d),u(d,m),m.checked=t[3],u(d,p),u(n,h),u(n,$),u($,C),u($,O),oe(O,t[4]),u(n,P),u(n,v),u(v,D),u(v,y),u(v,Y),t[14](e),b||(k=[J(s,"input",t[8]),J(c,"input",t[9]),J(m,"change",t[10]),J(O,"input",t[11]),J(D,"click",t[12]),J(Y,"click",t[13])],b=!0)},p(L,[M]){M&2&&s.value!==L[1]&&oe(s,L[1]),M&4&&c.value!==L[2]&&oe(c,L[2]),M&8&&(m.checked=L[3]),M&16&&oe(O,L[4])},i:K,o:K,d(L){L&&A(e),t[14](null),b=!1,Me(k)}}}function ls(t,e,n){const l=Pe();let o,s="",r="",i=!1,a;function c(){return E(this,null,function*(){o.show()})}function f(){return E(this,null,function*(){o.close()})}function d(){s=this.value,n(1,s)}function m(){r=this.value,n(2,r)}function p(){i=this.checked,n(3,i)}function h(){a=this.value,n(4,a)}const $=()=>E(this,null,function*(){return l("cancel")}),C=()=>E(this,null,function*(){l("submit",{name:s,shortName:r||s[0]||"",color:a,visible:!i})});function O(P){he[P?"unshift":"push"](()=>{o=P,n(0,o)})}return[o,s,r,i,a,l,c,f,d,m,p,h,$,C,O]}class ss extends ne{constructor(e){super(),te(this,e,ls,ns,x,{open:6,close:7})}get open(){return this.$$.ctx[6]}get close(){return this.$$.ctx[7]}}function os(t){let e,n,l,o,s,r,i,a,c,f=(t[1]||t[0][0])+"",d,m,p;return{c(){e=g("div"),n=g("div"),o=I(),s=g("span"),r=q(t[0]),i=g("br"),a=I(),c=g("span"),d=q(f),_(n,"class","background svelte-1e8lxbz"),_(n,"style",l=`background-color: ${t[3]||"transparent"};`),_(s,"class","name svelte-1e8lxbz"),_(c,"class","short-name svelte-1e8lxbz"),Q(c,"visible",t[2]),_(e,"class","card svelte-1e8lxbz"),_(e,"role","button"),_(e,"tabindex","0"),Q(e,"active",t[4])},m(h,$){B(h,e,$),u(e,n),u(e,o),u(e,s),u(s,r),u(e,i),u(e,a),u(e,c),u(c,d),m||(p=J(e,"click",t[6]),m=!0)},p(h,[$]){$&8&&l!==(l=`background-color: ${h[3]||"transparent"};`)&&_(n,"style",l),$&1&&be(r,h[0]),$&3&&f!==(f=(h[1]||h[0][0])+"")&&be(d,f),$&4&&Q(c,"visible",h[2]),$&16&&Q(e,"active",h[4])},i:K,o:K,d(h){h&&A(e),m=!1,p()}}}function rs(t,e,n){let{id:l}=e,{name:o}=e,{shortName:s=""}=e,{visible:r=!0}=e,{color:i="var(--color)"}=e,{active:a=!1}=e;function c(f){An.call(this,t,f)}return t.$$set=f=>{"id"in f&&n(5,l=f.id),"name"in f&&n(0,o=f.name),"shortName"in f&&n(1,s=f.shortName),"visible"in f&&n(2,r=f.visible),"color"in f&&n(3,i=f.color),"active"in f&&n(4,a=f.active)},[o,s,r,i,a,l,c]}class rt extends ne{constructor(e){super(),te(this,e,rs,os,x,{id:5,name:0,shortName:1,visible:2,color:3,active:4})}}function is(t){let e;return{c(){e=De("path"),_(e,"d","M368.5 240H272v-96.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-96.5c-8.8 0-16 7.2-16 16 0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7H240v96.5c0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7 8.8 0 16-7.2 16-16V272h96.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z")},m(n,l){B(n,e,l)},p:K,d(n){n&&A(e)}}}function as(t){let e,n;const l=[{viewBox:"0 0 512 512"},t[0]];let o={$$slots:{default:[is]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=W(o,l[s]);return e=new Oe({props:o}),{c(){V(e.$$.fragment)},m(s,r){H(e,s,r),n=!0},p(s,[r]){const i=r&1?ve(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function cs(t,e,n){return t.$$set=l=>{n(0,e=W(W({},e),fe(l)))},e=fe(e),[e]}class us extends ne{constructor(e){super(),te(this,e,cs,as,x,{})}}function fs(t){let e,n,l,o,s,r,i;return o=new us({}),{c(){e=g("div"),n=g("button"),l=g("span"),V(o.$$.fragment),_(l,"class","svelte-qd92l5"),_(n,"class","outline secondary svelte-qd92l5"),_(e,"class","card svelte-qd92l5")},m(a,c){B(a,e,c),u(e,n),u(n,l),H(o,l,null),s=!0,r||(i=J(n,"click",t[0]),r=!0)},p:K,i(a){s||(S(o.$$.fragment,a),s=!0)},o(a){j(o.$$.fragment,a),s=!1},d(a){a&&A(e),U(o),r=!1,i()}}}function ds(t){function e(n){An.call(this,t,n)}return[e]}class hs extends ne{constructor(e){super(),te(this,e,ds,fs,x,{})}}function Xt(t,e,n){const l=t.slice();return l[16]=e[n],l}function Jt(t,e,n){const l=t.slice();return l[19]=e[n],l[21]=n,l}function Gt(t){let e,n;const l=[ut(t[19])];function o(){return t[10](t[21])}let s={};for(let r=0;r<l.length;r+=1)s=W(s,l[r]);return e=new rt({props:s}),e.$on("click",o),{c(){V(e.$$.fragment)},m(r,i){H(e,r,i),n=!0},p(r,i){t=r;const a=i&16?ve(l,[Se(ut(t[19]))]):{};e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function Kt(t){let e=!!ut(t[19]),n,l,o=e&&Gt(t);return{c(){o&&o.c(),n=Re()},m(s,r){o&&o.m(s,r),B(s,n,r),l=!0},p(s,r){r&16&&(e=!!ut(s[19])),e?o?(o.p(s,r),r&16&&S(o,1)):(o=Gt(s),o.c(),S(o,1),o.m(n.parentNode,n)):o&&(ke(),j(o,1,1,()=>{o=null}),we())},i(s){l||(S(o),l=!0)},o(s){j(o),l=!1},d(s){s&&A(n),o&&o.d(s)}}}function Qt(t){let e,n,l,o;const s=[t[16]];function r(){return t[11](t[16])}let i={};for(let a=0;a<s.length;a+=1)i=W(i,s[a]);return n=new rt({props:i}),n.$on("click",r),{c(){e=g("div"),V(n.$$.fragment),l=I(),_(e,"class","container svelte-jvavll")},m(a,c){B(a,e,c),H(n,e,null),u(e,l),o=!0},p(a,c){t=a;const f=c&8?ve(s,[Se(t[16])]):{};n.$set(f)},i(a){o||(S(n.$$.fragment,a),o=!0)},o(a){j(n.$$.fragment,a),o=!1},d(a){a&&A(e),U(n)}}}function _s(t){let e,n,l,o,s,r,i,a,c,f,d,m,p,h,$,C,O,P,v,D=ie(t[4]),y=[];for(let M=0;M<D.length;M+=1)y[M]=Kt(Jt(t,D,M));const Y=M=>j(y[M],1,1,()=>{y[M]=null});let b=ie(t[3]),k=[];for(let M=0;M<b.length;M+=1)k[M]=Qt(Xt(t,b,M));const L=M=>j(k[M],1,1,()=>{k[M]=null});return{c(){e=g("dialog"),n=g("article"),l=g("header"),l.textContent="Shift Rhythm",o=I(),s=g("div"),r=g("ul");for(let M=0;M<y.length;M+=1)y[M].c();i=I(),a=g("div"),c=I(),f=g("div");for(let M=0;M<k.length;M+=1)k[M].c();m=I(),p=g("footer"),h=g("button"),h.textContent="Cancel",$=I(),C=g("button"),C.textContent="Confirm",_(r,"class","svelte-jvavll"),_(a,"class","spacer svelte-jvavll"),_(f,"class","shifts-container svelte-jvavll"),_(s,"class","content svelte-jvavll"),_(s,"style",d=`
                height: calc(100% - ${t[5]}px);
            `),_(h,"class","contrast"),_(C,"type","submit"),_(n,"class","svelte-jvavll")},m(M,R){B(M,e,R),u(e,n),u(n,l),t[9](l),u(n,o),u(n,s),u(s,r);for(let w=0;w<y.length;w+=1)y[w]&&y[w].m(r,null);u(s,i),u(s,a),u(s,c),u(s,f);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(f,null);u(n,m),u(n,p),u(p,h),u(p,$),u(p,C),t[14](p),t[15](e),O=!0,P||(v=[J(h,"click",t[12]),J(C,"click",t[13])],P=!0)},p(M,[R]){if(R&16){D=ie(M[4]);let w;for(w=0;w<D.length;w+=1){const N=Jt(M,D,w);y[w]?(y[w].p(N,R),S(y[w],1)):(y[w]=Kt(N),y[w].c(),S(y[w],1),y[w].m(r,null))}for(ke(),w=D.length;w<y.length;w+=1)Y(w);we()}if(R&24){b=ie(M[3]);let w;for(w=0;w<b.length;w+=1){const N=Xt(M,b,w);k[w]?(k[w].p(N,R),S(k[w],1)):(k[w]=Qt(N),k[w].c(),S(k[w],1),k[w].m(f,null))}for(ke(),w=b.length;w<k.length;w+=1)L(w);we()}(!O||R&32&&d!==(d=`
                height: calc(100% - ${M[5]}px);
            `))&&_(s,"style",d)},i(M){if(!O){for(let R=0;R<D.length;R+=1)S(y[R]);for(let R=0;R<b.length;R+=1)S(k[R]);O=!0}},o(M){y=y.filter(Boolean);for(let R=0;R<y.length;R+=1)j(y[R]);k=k.filter(Boolean);for(let R=0;R<k.length;R+=1)j(k[R]);O=!1},d(M){M&&A(e),t[9](null),Ee(y,M),Ee(k,M),t[14](null),t[15](null),P=!1,Me(v)}}}function gs(t,e,n){const l=Pe();let o,s,r,i=[],a=[],c=0;function f(v,D){return E(this,null,function*(){n(3,i=v),n(4,a=D),o.show(),n(5,c=r.getBoundingClientRect().height+s.getBoundingClientRect().height)})}function d(){return E(this,null,function*(){o.close()})}function m(v){he[v?"unshift":"push"](()=>{r=v,n(2,r)})}const p=v=>{n(4,a=[...a.slice(0,v),...a.slice(v+1)])},h=v=>{n(4,a=[...a,v.id])},$=()=>E(this,null,function*(){return l("cancel")}),C=()=>l("submit",a);function O(v){he[v?"unshift":"push"](()=>{s=v,n(1,s)})}function P(v){he[v?"unshift":"push"](()=>{o=v,n(0,o)})}return[o,s,r,i,a,c,l,f,d,m,p,h,$,C,O,P]}class ms extends ne{constructor(e){super(),te(this,e,gs,_s,x,{open:7,close:8})}get open(){return this.$$.ctx[7]}get close(){return this.$$.ctx[8]}}function Zt(t,e,n){const l=t.slice();return l[17]=e[n],l[19]=n,l}function xt(t){let e,n,l,o,s,r,i,a,c,f,d,m,p,h,$,C,O,P,v,D,y,Y,b,k,L,M,R,w=ie(t[0]),N=[];for(let X=0;X<w.length;X+=1)N[X]=en(Zt(t,w,X));return{c(){e=g("article"),n=g("select");for(let X=0;X<N.length;X+=1)N[X].c();l=I(),o=g("label"),s=q(`Name\r
                `),r=g("input"),i=I(),a=g("label"),c=q(`ShortName\r
                `),f=g("input"),d=I(),m=g("label"),p=q(`Color\r
                `),h=g("input"),$=I(),C=g("label"),O=g("input"),P=q(`\r
                Hidden Shift (Not visible in calendar)`),v=I(),D=g("footer"),y=g("button"),y.textContent="Cancel",Y=I(),b=g("button"),b.textContent="Delete",k=I(),L=g("button"),L.textContent="Confirm",_(n,"name","shiftsToEdit"),_(n,"class","svelte-azf1tm"),t[3]===void 0&&Qe(()=>t[7].call(n)),_(r,"type","text"),_(r,"name","name"),_(o,"for","name"),_(o,"class","svelte-azf1tm"),_(f,"type","text"),_(f,"name","shortName"),_(a,"for","shortName"),_(a,"class","svelte-azf1tm"),_(h,"type","color"),_(h,"name","color"),_(m,"for","color"),_(m,"class","svelte-azf1tm"),_(O,"type","checkbox"),_(O,"name","hidden"),_(C,"for","hidden"),_(C,"class","svelte-azf1tm"),_(y,"class","contrast"),_(b,"class","secondary"),_(D,"class","svelte-azf1tm"),_(e,"class","svelte-azf1tm")},m(X,ae){B(X,e,ae),u(e,n);for(let Z=0;Z<N.length;Z+=1)N[Z]&&N[Z].m(n,null);Ke(n,t[3],!0),u(e,l),u(e,o),u(o,s),u(o,r),oe(r,t[0][parseInt(t[3])].name),u(e,i),u(e,a),u(a,c),u(a,f),oe(f,t[0][parseInt(t[3])].shortName),u(e,d),u(e,m),u(m,p),u(m,h),oe(h,t[0][parseInt(t[3])].color),u(e,$),u(e,C),u(C,O),O.checked=t[1],u(C,P),u(e,v),u(e,D),u(D,y),u(D,Y),u(D,b),u(D,k),u(D,L),M||(R=[J(n,"change",t[7]),J(r,"input",t[8]),J(f,"input",t[9]),J(h,"input",t[10]),J(O,"change",t[11]),J(y,"click",t[12]),J(b,"click",t[13]),J(L,"click",t[14])],M=!0)},p(X,ae){if(ae&9){w=ie(X[0]);let Z;for(Z=0;Z<w.length;Z+=1){const T=Zt(X,w,Z);N[Z]?N[Z].p(T,ae):(N[Z]=en(T),N[Z].c(),N[Z].m(n,null))}for(;Z<N.length;Z+=1)N[Z].d(1);N.length=w.length}ae&8&&Ke(n,X[3]),ae&9&&r.value!==X[0][parseInt(X[3])].name&&oe(r,X[0][parseInt(X[3])].name),ae&9&&f.value!==X[0][parseInt(X[3])].shortName&&oe(f,X[0][parseInt(X[3])].shortName),ae&9&&oe(h,X[0][parseInt(X[3])].color),ae&2&&(O.checked=X[1])},d(X){X&&A(e),Ee(N,X),M=!1,Me(R)}}}function en(t){let e,n=t[17].name+"",l,o;return{c(){e=g("option"),l=q(n),e.__value=t[19].toString(),oe(e,e.__value),e.selected=o=parseInt(t[3])===t[19]},m(s,r){B(s,e,r),u(e,l)},p(s,r){r&1&&n!==(n=s[17].name+"")&&be(l,n),r&8&&o!==(o=parseInt(s[3])===s[19])&&(e.selected=o)},d(s){s&&A(e)}}}function ps(t){let e,n=t[0].length&&xt(t);return{c(){e=g("dialog"),n&&n.c()},m(l,o){B(l,e,o),n&&n.m(e,null),t[15](e)},p(l,[o]){l[0].length?n?n.p(l,o):(n=xt(l),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:K,o:K,d(l){l&&A(e),n&&n.d(),t[15](null)}}}function bs(t,e,n){const l=Pe();let o,s=[],r="0",i=!1;function a(){n(0,s[parseInt(r)].visible=!i,s)}function c(D,y){return E(this,null,function*(){n(0,s=D),n(3,r=y),o.show()})}function f(){return E(this,null,function*(){o.close()})}function d(){r=Ct(this),n(3,r)}function m(){s[parseInt(r)].name=this.value,n(0,s)}function p(){s[parseInt(r)].shortName=this.value,n(0,s)}function h(){s[parseInt(r)].color=this.value,n(0,s)}function $(){i=this.checked,n(1,i)}const C=()=>E(this,null,function*(){return l("cancel")}),O=()=>{window.confirm(`Delete "${s[parseInt(r)].name}"?`)&&(s.length<=1&&l("submit",[]),n(0,s=[...s.slice(0,parseInt(r)),...s.slice(parseInt(r)+1)]),n(3,r="0"))},P=()=>l("submit",s);function v(D){he[D?"unshift":"push"](()=>{o=D,n(2,o)})}return t.$$.update=()=>{t.$$.dirty&3&&s.length&&typeof i=="boolean"&&a()},[s,i,o,r,l,c,f,d,m,p,h,$,C,O,P,v]}class vs extends ne{constructor(e){super(),te(this,e,bs,ps,x,{open:5,close:6})}get open(){return this.$$.ctx[5]}get close(){return this.$$.ctx[6]}}function $s(t){let e;return{c(){e=De("path"),_(e,"d","M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z")},m(n,l){B(n,e,l)},p:K,d(n){n&&A(e)}}}function ks(t){let e,n;const l=[{viewBox:"0 0 512 512"},t[0]];let o={$$slots:{default:[$s]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=W(o,l[s]);return e=new Oe({props:o}),{c(){V(e.$$.fragment)},m(s,r){H(e,s,r),n=!0},p(s,[r]){const i=r&1?ve(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function ws(t,e,n){return t.$$set=l=>{n(0,e=W(W({},e),fe(l)))},e=fe(e),[e]}class ys extends ne{constructor(e){super(),te(this,e,ws,ks,x,{})}}function Ds(t){let e;return{c(){e=De("path"),_(e,"d","M133.1 128l23.6 290.7c0 16.2 13.1 29.3 29.3 29.3h141c16.2 0 29.3-13.1 29.3-29.3L379.6 128H133.1zm61.6 265L188 160h18.5l6.9 233h-18.7zm70.3 0h-18V160h18v233zm52.3 0h-18.6l6.8-233H324l-6.7 233zM364 92h-36l-26.3-23c-3.7-3.2-8.4-5-13.2-5h-64.8c-4.9 0-9.7 1.8-13.4 5L184 92h-36c-17.6 0-30 8.4-30 26h276c0-17.6-12.4-26-30-26z")},m(n,l){B(n,e,l)},p:K,d(n){n&&A(e)}}}function Ps(t){let e,n;const l=[{viewBox:"0 0 512 512"},t[0]];let o={$$slots:{default:[Ds]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=W(o,l[s]);return e=new Oe({props:o}),{c(){V(e.$$.fragment)},m(s,r){H(e,s,r),n=!0},p(s,[r]){const i=r&1?ve(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function Ss(t,e,n){return t.$$set=l=>{n(0,e=W(W({},e),fe(l)))},e=fe(e),[e]}class Yn extends ne{constructor(e){super(),te(this,e,Ss,Ps,x,{})}}function tn(t,e,n){const l=t.slice();return l[12]=e[n],l}function Cs(t){let e,n;return e=new ys({}),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function nn(t){let e,n,l=ie(t[3].sort(t[9])),o=[];for(let r=0;r<l.length;r+=1)o[r]=ln(tn(t,l,r));const s=r=>j(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=Re()},m(r,i){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(r,i);B(r,e,i),n=!0},p(r,i){if(i&46){l=ie(r[3].sort(r[9]));let a;for(a=0;a<l.length;a+=1){const c=tn(r,l,a);o[a]?(o[a].p(c,i),S(o[a],1)):(o[a]=ln(c),o[a].c(),S(o[a],1),o[a].m(e.parentNode,e))}for(ke(),a=l.length;a<o.length;a+=1)s(a);we()}},i(r){if(!n){for(let i=0;i<l.length;i+=1)S(o[i]);n=!0}},o(r){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)j(o[i]);n=!1},d(r){r&&A(e),Ee(o,r)}}}function Es(t){let e,n;return e=new Yn({}),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function ln(t){var Y;let e,n,l,o=t[12].key.split("-",3)[2]+"",s,r,i,a,c=(((Y=t[12].shift)==null?void 0:Y.name)||null)+"",f,d,m,p,h=(t[12].note||"")+"",$,C,O,P,v,D;function y(){return t[10](t[12])}return P=new Ie({props:{$$slots:{default:[Es]},$$scope:{ctx:t}}}),P.$on("click",y),{c(){e=g("tr"),n=g("td"),l=g("code"),s=q(o),r=I(),i=g("td"),a=g("code"),f=q(c),d=I(),m=g("td"),p=g("code"),$=q(h),C=I(),O=g("td"),V(P.$$.fragment),v=I(),_(n,"class","key svelte-g6isex"),_(i,"class","shift svelte-g6isex"),_(m,"class","note svelte-g6isex"),_(O,"class","delete svelte-g6isex")},m(b,k){B(b,e,k),u(e,n),u(n,l),u(l,s),u(e,r),u(e,i),u(i,a),u(a,f),u(e,d),u(e,m),u(m,p),u(p,$),u(e,C),u(e,O),H(P,O,null),u(e,v),D=!0},p(b,k){var M;t=b,(!D||k&8)&&o!==(o=t[12].key.split("-",3)[2]+"")&&be(s,o),(!D||k&8)&&c!==(c=(((M=t[12].shift)==null?void 0:M.name)||null)+"")&&be(f,c),(!D||k&8)&&h!==(h=(t[12].note||"")+"")&&be($,h);const L={};k&32768&&(L.$$scope={dirty:k,ctx:t}),P.$set(L)},i(b){D||(S(P.$$.fragment,b),D=!0)},o(b){j(P.$$.fragment,b),D=!1},d(b){b&&A(e),U(P)}}}function Ms(t){let e,n,l,o,s,r,i=(t[2]+1).toString().padStart(2,"0")+"",a,c,f,d,m,p,h,$,C,O;f=new Ie({props:{style:`
                    float: right;
                `,$$slots:{default:[Cs]},$$scope:{ctx:t}}}),f.$on("click",t[8]);let P=!!t[3]&&nn(t);return{c(){e=g("dialog"),n=g("article"),l=g("header"),o=q("Data: "),s=q(t[1]),r=q("/"),a=q(i),c=I(),V(f.$$.fragment),d=I(),m=g("figure"),p=g("table"),h=g("thead"),h.innerHTML='<tr><th scope="col">Day</th> <th scope="col">Shift</th> <th scope="col">Note</th> <th scope="col">Actions</th></tr>',$=I(),C=g("tbody"),P&&P.c(),_(p,"role","grid"),_(p,"class","svelte-g6isex"),_(n,"class","svelte-g6isex"),_(e,"class","svelte-g6isex")},m(v,D){B(v,e,D),u(e,n),u(n,l),u(l,o),u(l,s),u(l,r),u(l,a),u(l,c),H(f,l,null),u(n,d),u(n,m),u(m,p),u(p,h),u(p,$),u(p,C),P&&P.m(C,null),t[11](e),O=!0},p(v,[D]){(!O||D&2)&&be(s,v[1]),(!O||D&4)&&i!==(i=(v[2]+1).toString().padStart(2,"0")+"")&&be(a,i);const y={};D&32768&&(y.$$scope={dirty:D,ctx:v}),f.$set(y),v[3]?P?(P.p(v,D),D&8&&S(P,1)):(P=nn(v),P.c(),S(P,1),P.m(C,null)):P&&(ke(),j(P,1,1,()=>{P=null}),we())},i(v){O||(S(f.$$.fragment,v),S(P),O=!0)},o(v){j(f.$$.fragment,v),j(P),O=!1},d(v){v&&A(e),U(f),P&&P.d(),t[11](null)}}}function Ls(t,e,n){const l=Pe();let o,s,r,i;function a(){return E(this,null,function*(){n(3,i=[]);for(let[$,C]of Object.entries(yield ze(s,r)))i.push(Rt({key:$},C));n(3,i)})}function c($,C){return E(this,null,function*(){n(1,s=$),n(2,r=C),yield a(),o.show()})}function f(){return E(this,null,function*(){o.close()})}const d=()=>l("close"),m=($,C)=>parseInt($.key.split("-",3)[2],10)>parseInt(C.key.split("-",3)[2],10)?1:-1,p=$=>E(this,null,function*(){window.confirm(`Delete data for "${s}/${r+1}/${$.key.split("-",3)[2]}" ?`)&&(yield St(s,r,$.key),yield a())});function h($){he[$?"unshift":"push"](()=>{o=$,n(0,o)})}return[o,s,r,i,l,a,c,f,d,m,p,h]}class js extends ne{constructor(e){super(),te(this,e,Ls,Ms,x,{open:6,close:7})}get open(){return this.$$.ctx[6]}get close(){return this.$$.ctx[7]}}function Os(t){let e,n,l,o,s,r,i,a,c,f;return{c(){e=g("div"),n=g("label"),l=q(`Year\r
                    `),o=g("input"),s=I(),r=g("label"),i=q(`Month\r
                    `),a=g("input"),_(o,"type","number"),_(o,"aria-invalid",t[4]),_(a,"type","number"),_(a,"min",1),_(a,"max",12),_(a,"aria-invalid",t[5])},m(d,m){B(d,e,m),u(e,n),u(n,l),u(n,o),oe(o,t[0]),u(e,s),u(e,r),u(r,i),u(r,a),oe(a,t[1]),c||(f=[J(o,"input",t[10]),J(o,"input",t[11]),J(a,"input",t[12]),J(a,"input",t[13])],c=!0)},p(d,m){m&16&&_(o,"aria-invalid",d[4]),m&1&&at(o.value)!==d[0]&&oe(o,d[0]),m&32&&_(a,"aria-invalid",d[5]),m&2&&at(a.value)!==d[1]&&oe(a,d[1])},d(d){d&&A(e),c=!1,Me(f)}}}function Ts(t){let e,n,l,o,s;return{c(){e=g("label"),n=q(`Pick a Date\r
                `),l=g("input"),_(l,"type","month")},m(r,i){B(r,e,i),u(e,n),u(e,l),oe(l,t[2]),o||(s=J(l,"input",t[9]),o=!0)},p(r,i){i&4&&oe(l,r[2])},d(r){r&&A(e),o=!1,s()}}}function Is(t){let e,n,l,o,s,r,i,a,c;function f(p,h){return Lt()?Ts:Os}let m=f()(t);return{c(){e=g("dialog"),n=g("article"),m.c(),l=I(),o=g("footer"),s=g("button"),s.textContent="Cancel",r=I(),i=g("button"),i.textContent="Confirm",_(s,"class","contrast"),_(i,"type","submit"),_(n,"class","svelte-9p3cqr"),_(e,"class","svelte-9p3cqr")},m(p,h){B(p,e,h),u(e,n),m.m(n,null),u(n,l),u(n,o),u(o,s),u(o,r),u(o,i),t[16](e),a||(c=[J(s,"click",t[14]),J(i,"click",t[15])],a=!0)},p(p,[h]){m.p(p,h)},i:K,o:K,d(p){p&&A(e),m.d(),t[16](null),a=!1,Me(c)}}}function As(t,e,n){const l=Pe();let o,s,r,i,a=!1,c=!1;function f(Y,b){return E(this,null,function*(){n(0,s=Y),n(1,r=b+1),o.show()})}function d(){return E(this,null,function*(){o.close()})}function m(){return E(this,null,function*(){n(2,i=`${s}-${r}`)})}function p(){return E(this,null,function*(){const[Y,b]=i.split("-",2);n(0,s=parseInt(Y,10)),n(1,r=parseInt(b,10))})}function h(){i=this.value,n(2,i)}function $(){s=at(this.value),n(0,s)}const C=()=>E(this,null,function*(){s===null?n(4,a=!0):n(4,a=!1)});function O(){r=at(this.value),n(1,r)}const P=()=>E(this,null,function*(){r<1||r>12||r===null?n(5,c=!0):n(5,c=!1)}),v=()=>E(this,null,function*(){return l("cancel")}),D=()=>E(this,null,function*(){c||a||l("submit",{year:s,month:r-1})});function y(Y){he[Y?"unshift":"push"](()=>{o=Y,n(3,o)})}return t.$$.update=()=>{t.$$.dirty&7&&!i&&s&&r&&m(),t.$$.dirty&4&&i&&p()},[s,r,i,o,a,c,l,f,d,h,$,C,O,P,v,D,y]}class Bs extends ne{constructor(e){super(),te(this,e,As,Is,x,{open:7,close:8})}get open(){return this.$$.ctx[7]}get close(){return this.$$.ctx[8]}}function Ns(t){let e,n;return e=new Vl({}),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Rs(t){let e,n;return e=new Al({}),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function zs(t){let e,n;return e=new zl({}),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Fs(t){let e,n;return e=new Xl({}),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Hs(t){let e,n,l,o,s,r,i,a,c,f,d,m,p,h,$,C,O,P,v,D,y,Y,b,k;l=new Ie({props:{$$slots:{default:[Ns]},$$scope:{ctx:t}}}),l.$on("click",t[6]);function L(w){t[7](w)}let M={style:"margin: 0;"};t[0]!==void 0&&(M.currentDate=t[0]),r=new Kl({props:M}),he.push(()=>Rn(r,"currentDate",L)),r.$on("click",t[8]),$=new Ie({props:{margin:"8px 4px",$$slots:{default:[Rs]},$$scope:{ctx:t}}}),$.$on("click",t[9]),P=new Ie({props:{margin:"8px 4px",disabled:t[10](),$$slots:{default:[zs]},$$scope:{ctx:t}}}),P.$on("click",t[11]),y=new Ie({props:{margin:"8px 4px",$$slots:{default:[Fs]},$$scope:{ctx:t}}}),y.$on("click",t[12]);let R={};return b=new Bs({props:R}),t[13](b),b.$on("cancel",t[14]),b.$on("submit",t[15]),{c(){e=g("header"),n=g("span"),V(l.$$.fragment),o=I(),s=g("span"),V(r.$$.fragment),a=I(),c=g("h1"),c.textContent="Settings",f=I(),d=g("span"),m=I(),p=g("div"),h=g("span"),V($.$$.fragment),C=I(),O=g("span"),V(P.$$.fragment),v=I(),D=g("span"),V(y.$$.fragment),Y=I(),V(b.$$.fragment),_(n,"class","item svelte-18gny02"),Q(n,"visible",t[1]),_(s,"class","item svelte-18gny02"),nt(s,"width","30rem"),Q(s,"visible",t[2]),_(c,"class","item svelte-18gny02"),nt(c,"margin","0"),nt(c,"margin-left","8px"),Q(c,"visible",!!t[3]),_(d,"class","spacer svelte-18gny02"),_(h,"class","item svelte-18gny02"),Q(h,"visible",t[2]),_(O,"class","item svelte-18gny02"),Q(O,"visible",t[2]),_(D,"class","item svelte-18gny02"),Q(D,"visible",t[2]),_(p,"class","actions svelte-18gny02"),nt(e,"font-size","1rem"),nt(e,"padding","4px"),_(e,"class","svelte-18gny02")},m(w,N){B(w,e,N),u(e,n),H(l,n,null),u(e,o),u(e,s),H(r,s,null),u(e,a),u(e,c),u(e,f),u(e,d),u(e,m),u(e,p),u(p,h),H($,h,null),u(p,C),u(p,O),H(P,O,null),u(p,v),u(p,D),H(y,D,null),B(w,Y,N),H(b,w,N),k=!0},p(w,[N]){const X={};N&65536&&(X.$$scope={dirty:N,ctx:w}),l.$set(X),(!k||N&2)&&Q(n,"visible",w[1]);const ae={};!i&&N&1&&(i=!0,ae.currentDate=w[0],Bn(()=>i=!1)),r.$set(ae),(!k||N&4)&&Q(s,"visible",w[2]),(!k||N&8)&&Q(c,"visible",!!w[3]);const Z={};N&65536&&(Z.$$scope={dirty:N,ctx:w}),$.$set(Z),(!k||N&4)&&Q(h,"visible",w[2]);const T={};N&1&&(T.disabled=w[10]()),N&65536&&(T.$$scope={dirty:N,ctx:w}),P.$set(T),(!k||N&4)&&Q(O,"visible",w[2]);const _e={};N&65536&&(_e.$$scope={dirty:N,ctx:w}),y.$set(_e),(!k||N&4)&&Q(D,"visible",w[2]);const ce={};b.$set(ce)},i(w){k||(S(l.$$.fragment,w),S(r.$$.fragment,w),S($.$$.fragment,w),S(P.$$.fragment,w),S(y.$$.fragment,w),S(b.$$.fragment,w),k=!0)},o(w){j(l.$$.fragment,w),j(r.$$.fragment,w),j($.$$.fragment,w),j(P.$$.fragment,w),j(y.$$.fragment,w),j(b.$$.fragment,w),k=!1},d(w){w&&(A(e),A(Y)),U(l),U(r),U($),U(P),U(y),t[13](null),U(b,w)}}}function Us(t,e,n){let{enableBackButton:l=!1}=e,{enableDatePicker:o=!1}=e,{datePickerDate:s}=e,{title:r=void 0}=e;const i=Pe();let a;const c=()=>i("backbuttonclick");function f(v){s=v,n(0,s)}const d=D=>E(this,[D],function*({detail:v}){a.open(v.year,v.month)}),m=()=>i("editmodeclick"),p=()=>{const v=new Date;return v.getFullYear()===s.getFullYear()&&v.getMonth()===s.getMonth()},h=()=>i("currentdatechange",new Date),$=()=>i("goto","settings");function C(v){he[v?"unshift":"push"](()=>{a=v,n(4,a)})}const O=()=>E(this,null,function*(){a.close()}),P=D=>E(this,[D],function*({detail:v}){i("currentdatechange",new Date(v.year,v.month)),a.close()});return t.$$set=v=>{"enableBackButton"in v&&n(1,l=v.enableBackButton),"enableDatePicker"in v&&n(2,o=v.enableDatePicker),"datePickerDate"in v&&n(0,s=v.datePickerDate),"title"in v&&n(3,r=v.title)},[s,l,o,r,a,i,c,f,d,m,p,h,$,C,O,P]}class Vs extends ne{constructor(e){super(),te(this,e,Us,Hs,x,{enableBackButton:1,enableDatePicker:2,datePickerDate:0,title:3})}}function sn(t,e,n){const l=t.slice();return l[21]=e[n],l[23]=n,l}const Ys=t=>({currentDate:t&128,currentTranslateX:t&8,transition:t&4,transitionend:t&158}),on=t=>({index:t[23],currentDate:new Date(t[7].getFullYear(),t[7].getMonth()+(t[23]-1)),currentTranslateX:t[3],transition:t[2],transitionend:t[14]});function rn(t){let e;const n=t[13]["container-item"],l=ft(n,t,t[12],on);return{c(){l&&l.c()},m(o,s){l&&l.m(o,s),e=!0},p(o,s){l&&l.p&&(!e||s&4254)&&ht(l,n,o,o[12],e?dt(n,o[12],s,Ys):_t(o[12]),on)},i(o){e||(S(l,o),e=!0)},o(o){j(l,o),e=!1},d(o){l&&l.d(o)}}}function qs(t){let e,n,l,o,s=ie(t[1]),r=[];for(let a=0;a<s.length;a+=1)r[a]=rn(sn(t,s,a));const i=a=>j(r[a],1,1,()=>{r[a]=null});return{c(){e=g("div");for(let a=0;a<r.length;a+=1)r[a].c();_(e,"class","svelte-aqfi8w")},m(a,c){B(a,e,c);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);t[15](e),n=!0,l||(o=J(e,"click",t[16]),l=!0)},p(a,[c]){if(c&4766){s=ie(a[1]);let f;for(f=0;f<s.length;f+=1){const d=sn(a,s,f);r[f]?(r[f].p(d,c),S(r[f],1)):(r[f]=rn(d),r[f].c(),S(r[f],1),r[f].m(e,null))}for(ke(),f=s.length;f<r.length;f+=1)i(f);we()}},i(a){if(!n){for(let c=0;c<s.length;c+=1)S(r[c]);n=!0}},o(a){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)j(r[c]);n=!1},d(a){a&&A(e),Ee(r,a),t[15](null),l=!1,o()}}}let Ws=1;function Xs(t,e,n){let{$$slots:l={},$$scope:o}=e;const s=Pe();function r(k){n(7,$=k)}function i(){n(7,$)}let a=[-1,0,1],c="none",f="-100%",d=null,m=!1,p=!1,h=null,$=new Date,C=0,O,P;function v(){P.children[Ws]&&(n(0,P.onpointerdown=L=>{p||m||(n(2,c="none"),C=L.clientX,O=P.getBoundingClientRect().width/5)},P),n(0,P.onpointerup=()=>{p||m&&(n(6,p=!0),n(2,c="transform 0.25s linear"),d==="left"?n(3,f="-200%"):d==="right"?n(3,f="0"):(n(3,f="-100%"),D()))},P),n(0,P.onpointercancel=P.onpointerup,P),n(0,P.onpointermove=L=>{if(!p){if(m&&L.buttons===1){const M=C-L.clientX;L.clientX<h&&Math.abs(M)>O?d==="right"?L.clientX<C&&n(4,d=null):n(4,d="left"):L.clientX>h&&Math.abs(M)>O&&(d==="left"?L.clientX>C&&n(4,d=null):n(4,d="right")),n(3,f=`calc(-100% + ${0-M}px)`),h=L.clientX;return}if(L.buttons!==1){m&&P.onpointerup(L);return}if(!m){(C-L.clientX>2||C-L.clientX<-2)&&n(5,m=!0);return}}},P))}function D(){n(4,d=null),h=null,n(5,m=!1),setTimeout(()=>n(6,p=!1),100)}const y=()=>{d==="left"?(n(1,a=[a[1],a[2],a[0]]),n(7,$=new Date($.getFullYear(),$.getMonth()+1))):d==="right"&&(n(1,a=[a[2],a[0],a[1]]),n(7,$=new Date($.getFullYear(),$.getMonth()-1))),n(2,c="none"),n(3,f="-100%"),D()};function Y(k){he[k?"unshift":"push"](()=>{P=k,n(0,P)})}const b=k=>E(this,null,function*(){var L;if(!(p||m)){for(const M of(k==null?void 0:k.path)||k.composedPath()||[])if((L=M.classList)!=null&&L.contains("day-content")){const R=parseInt(M.getAttribute("data-value"),10);isNaN(R)?s("click",null):s("click",new Date($.getFullYear(),$.getMonth(),R));return}}});return t.$$set=k=>{"$$scope"in k&&n(12,o=k.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&P&&v()},[P,a,c,f,d,m,p,$,s,D,r,i,o,l,y,Y,b]}class Js extends ne{constructor(e){super(),te(this,e,Xs,qs,x,{setCurrentDate:10,reload:11})}get setCurrentDate(){return this.$$.ctx[10]}get reload(){return this.$$.ctx[11]}}function an(t,e,n){const l=t.slice();return l[6]=e[n],l}function cn(t){let e;return{c(){e=g("span"),e.textContent=`${t[6]}`,_(e,"class","svelte-dski4w"),Q(e,"sunday",t[6]==="Sun"),Q(e,"saturday",t[6]==="Sat")},m(n,l){B(n,e,l)},p:K,d(n){n&&A(e)}}}function Gs(t){let e,n,l,o,s,r,i,a=ie(t[1]),c=[];for(let h=0;h<a.length;h+=1)c[h]=cn(an(t,a,h));const f=t[4].default,d=ft(f,t,t[3],null);let m=[{class:"calendar-item"},t[2]],p={};for(let h=0;h<m.length;h+=1)p=W(p,m[h]);return{c(){e=g("div"),n=g("div"),l=g("div");for(let h=0;h<c.length;h+=1)c[h].c();o=I(),d&&d.c(),_(l,"class","header svelte-dski4w"),_(n,"class","svelte-dski4w"),Ge(e,p),Q(e,"svelte-dski4w",!0)},m(h,$){B(h,e,$),u(e,n),u(n,l);for(let C=0;C<c.length;C+=1)c[C]&&c[C].m(l,null);u(n,o),d&&d.m(n,null),s=!0,r||(i=J(e,"transitionend",t[5]),r=!0)},p(h,[$]){if($&2){a=ie(h[1]);let C;for(C=0;C<a.length;C+=1){const O=an(h,a,C);c[C]?c[C].p(O,$):(c[C]=cn(O),c[C].c(),c[C].m(l,null))}for(;C<c.length;C+=1)c[C].d(1);c.length=a.length}d&&d.p&&(!s||$&8)&&ht(d,f,h,h[3],s?dt(f,h[3],$,null):_t(h[3]),null),Ge(e,p=ve(m,[{class:"calendar-item"},$&4&&h[2]])),Q(e,"svelte-dski4w",!0)},i(h){s||(S(d,h),s=!0)},o(h){j(d,h),s=!1},d(h){h&&A(e),Ee(c,h),d&&d.d(h),r=!1,i()}}}function Ks(t,e,n){const l=[];let o=Je(e,l),{$$slots:s={},$$scope:r}=e;const i=Pe();let a=["Sun","Mon","Tue","Wen","Thu","Fri","Sat"];const c=()=>{i("transitionend")};return t.$$set=f=>{e=W(W({},e),fe(f)),n(2,o=Je(e,l)),"$$scope"in f&&n(3,r=f.$$scope)},[i,a,o,r,s,c]}class Qs extends ne{constructor(e){super(),te(this,e,Ks,Gs,x,{})}}function un(t){let e,n,l=t[0].data.shift&&fn(t),o=!!t[0].data.note&&dn();return{c(){l&&l.c(),e=I(),o&&o.c(),n=Re()},m(s,r){l&&l.m(s,r),B(s,e,r),o&&o.m(s,r),B(s,n,r)},p(s,r){s[0].data.shift?l?l.p(s,r):(l=fn(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),s[0].data.note?o||(o=dn(),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(s){s&&(A(e),A(n)),l&&l.d(s),o&&o.d(s)}}}function fn(t){let e,n,l,o,s=(t[0].data.shift.visible&&t[0].data.shift.shortName||"")+"",r;return{c(){e=g("div"),l=I(),o=g("span"),r=q(s),_(e,"class","background svelte-njlnuk"),_(e,"style",n=`background-color: ${t[0].data.shift.color};`),_(o,"class","shift svelte-njlnuk")},m(i,a){B(i,e,a),B(i,l,a),B(i,o,a),u(o,r)},p(i,a){a&1&&n!==(n=`background-color: ${i[0].data.shift.color};`)&&_(e,"style",n),a&1&&s!==(s=(i[0].data.shift.visible&&i[0].data.shift.shortName||"")+"")&&be(r,s)},d(i){i&&(A(e),A(l),A(o))}}}function dn(t){let e;return{c(){e=g("div"),_(e,"class","note-marker svelte-njlnuk")},m(n,l){B(n,e,l)},d(n){n&&A(e)}}}function Zs(t){let e,n,l,o=t[0].date.getDate()+"",s,r,i=!!t[0].data&&un(t);return{c(){var a;e=g("div"),i&&i.c(),n=I(),l=g("span"),s=q(o),_(l,"class","date svelte-njlnuk"),Q(l,"has-shift",!!((a=t[0].data)!=null&&a.shift)),_(e,"class","day-content svelte-njlnuk"),_(e,"role","button"),_(e,"tabindex","0"),_(e,"data-value",r=`${t[0].date.getMonth()===t[1]?t[0].date.getDate():NaN}`),Q(e,"disabled",t[0].date.getMonth()!==t[1]),Q(e,"today",t[0].date.getFullYear()===new Date().getFullYear()&&t[0].date.getMonth()===new Date().getMonth()&&t[0].date.getDate()===new Date().getDate())},m(a,c){B(a,e,c),i&&i.m(e,null),u(e,n),u(e,l),u(l,s)},p(a,[c]){var f;a[0].data?i?i.p(a,c):(i=un(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),c&1&&o!==(o=a[0].date.getDate()+"")&&be(s,o),c&1&&Q(l,"has-shift",!!((f=a[0].data)!=null&&f.shift)),c&3&&r!==(r=`${a[0].date.getMonth()===a[1]?a[0].date.getDate():NaN}`)&&_(e,"data-value",r),c&3&&Q(e,"disabled",a[0].date.getMonth()!==a[1]),c&1&&Q(e,"today",a[0].date.getFullYear()===new Date().getFullYear()&&a[0].date.getMonth()===new Date().getMonth()&&a[0].date.getDate()===new Date().getDate())},i:K,o:K,d(a){a&&A(e),i&&i.d()}}}function xs(t,e,n){let{currentMonth:l}=e,{day:o}=e;function s(){return E(this,null,function*(){if(l!==o.date.getMonth()){n(0,o.data={shift:null,note:""},o);return}})}return t.$$set=r=>{"currentMonth"in r&&n(1,l=r.currentMonth),"day"in r&&n(0,o=r.day)},t.$$.update=()=>{t.$$.dirty&1&&o&&s()},[o,l]}class eo extends ne{constructor(e){super(),te(this,e,xs,Zs,x,{currentMonth:1,day:0})}}function hn(t,e,n){const l=t.slice();return l[5]=e[n],l}function _n(t){let e,n;return e=new eo({props:{currentMonth:t[0].getMonth(),day:t[5]}}),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},p(l,o){const s={};o&1&&(s.currentMonth=l[0].getMonth()),o&2&&(s.day=l[5]),e.$set(s)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function to(t){let e,n,l,o=ie(t[1]),s=[];for(let i=0;i<o.length;i+=1)s[i]=_n(hn(t,o,i));const r=i=>j(s[i],1,1,()=>{s[i]=null});return{c(){e=g("div"),n=g("div");for(let i=0;i<s.length;i+=1)s[i].c();_(n,"class","svelte-1ddnamw"),_(e,"class","container svelte-1ddnamw")},m(i,a){B(i,e,a),u(e,n);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(n,null);l=!0},p(i,[a]){if(a&3){o=ie(i[1]);let c;for(c=0;c<o.length;c+=1){const f=hn(i,o,c);s[c]?(s[c].p(f,a),S(s[c],1)):(s[c]=_n(f),s[c].c(),S(s[c],1),s[c].m(n,null))}for(ke(),c=o.length;c<s.length;c+=1)r(c);we()}},i(i){if(!l){for(let a=0;a<o.length;a+=1)S(s[a]);l=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)j(s[a]);l=!1},d(i){i&&A(e),Ee(s,i)}}}function no(t,e,n){let{index:l}=e,{currentDate:o}=e;const s=Pe();let r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(()=>({date:o,data:{shift:null,note:""}}));function i(){return E(this,null,function*(){var m,p;const a=o.getFullYear(),c=o.getMonth(),f=new Date(a,c,1).getDay(),d=yield ze(a,c);for(let h=0;h<r.length;h++){n(1,r[h].date=new Date(a,c,h+1-f),r);const $=`${r[h].date.getFullYear()}-${r[h].date.getMonth()}-${r[h].date.getDate()}`;n(1,r[h].data={shift:((m=d[$])==null?void 0:m.shift)||Vn(r[h].date),note:((p=d[$])==null?void 0:p.note)||""},r)}})}return t.$$set=a=>{"index"in a&&n(2,l=a.index),"currentDate"in a&&n(0,o=a.currentDate)},t.$$.update=()=>{t.$$.dirty&1&&o&&i(),t.$$.dirty&5&&l===1&&o&&s("currentdatechange",o)},[o,r,l]}class lo extends ne{constructor(e){super(),te(this,e,no,to,x,{index:2,currentDate:0})}}function so(t){let e,n;return e=new lo({props:{index:t[12],currentDate:t[11]}}),e.$on("currentdatechange",t[4]),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},p(l,o){const s={};o&4096&&(s.index=l[12]),o&2048&&(s.currentDate=l[11]),e.$set(s)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function oo(t){let e,n;function l(){return t[5](t[8])}return e=new Qs({props:{slot:"container-item",style:`
            transform: translateX(${t[10]});
            transition: ${t[9]};
        `,$$slots:{default:[so]},$$scope:{ctx:t}}}),e.$on("transitionend",l),{c(){V(e.$$.fragment)},m(o,s){H(e,o,s),n=!0},p(o,s){t=o;const r={};s&1536&&(r.style=`
            transform: translateX(${t[10]});
            transition: ${t[9]};
        `),s&14336&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){U(e,o)}}}function ro(t){let e,n,l={$$slots:{"container-item":[oo,({transitionend:o,transition:s,currentTranslateX:r,currentDate:i,index:a})=>({8:o,9:s,10:r,11:i,12:a}),({transitionend:o,transition:s,currentTranslateX:r,currentDate:i,index:a})=>(o?256:0)|(s?512:0)|(r?1024:0)|(i?2048:0)|(a?4096:0)]},$$scope:{ctx:t}};return e=new Js({props:l}),t[6](e),e.$on("click",t[7]),{c(){V(e.$$.fragment)},m(o,s){H(e,o,s),n=!0},p(o,[s]){const r={};s&16128&&(r.$$scope={dirty:s,ctx:o}),e.$set(r)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){t[6](null),U(e,o)}}}function io(t,e,n){const l=Pe();function o(d){r.setCurrentDate(d)}function s(){r.reload()}let r;const i=d=>{l("currentdatechange",d.detail)},a=d=>d();function c(d){he[d?"unshift":"push"](()=>{r=d,n(0,r)})}return[r,l,o,s,i,a,c,d=>{l("click",d.detail)}]}let ao=class extends ne{constructor(e){super(),te(this,e,io,ro,x,{set:2,reload:3})}get set(){return this.$$.ctx[2]}get reload(){return this.$$.ctx[3]}};function co(t){let e,n,l;return{c(){e=De("path"),n=I(),l=De("path"),_(e,"d","M227.8 300.2c-5.1-5.1-5.1-13.3 0-18.4l133.7-133.7c-5.3-2.6-11.2-4.1-17.5-4.1H88c-22 0-40 18-40 40v224c0 22 18 40 40 40h256c22 0 40-18 40-40V184c0-6.3-1.5-12.2-4.1-17.5L246.2 300.2c-5.1 5.1-13.3 5.1-18.4 0z"),_(l,"d","M459.5 68.5C457 66 453 64 449 64h-97c-7.2-.1-13.1 5.7-13.1 12.9-.1 7.2 5.7 13.1 12.9 13.1l67.3.5-57.6 57.6c8 3.9 14.5 10.4 18.4 18.4l57.6-57.6.5 67.3c.1 7.2 5.9 13 13.1 12.9 7.2-.1 13-5.9 12.9-13.1V78c0-3.5-2-7-4.5-9.5z")},m(o,s){B(o,e,s),B(o,n,s),B(o,l,s)},p:K,d(o){o&&(A(e),A(n),A(l))}}}function uo(t){let e,n;const l=[{viewBox:"0 0 512 512"},t[0]];let o={$$slots:{default:[co]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=W(o,l[s]);return e=new Oe({props:o}),{c(){V(e.$$.fragment)},m(s,r){H(e,s,r),n=!0},p(s,[r]){const i=r&1?ve(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function fo(t,e,n){return t.$$set=l=>{n(0,e=W(W({},e),fe(l)))},e=fe(e),[e]}class ho extends ne{constructor(e){super(),te(this,e,fo,uo,x,{})}}function _o(t){let e;return{c(){e=De("path"),_(e,"d","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z")},m(n,l){B(n,e,l)},p:K,d(n){n&&A(e)}}}function go(t){let e,n;const l=[{viewBox:"0 0 384 512"},t[0]];let o={$$slots:{default:[_o]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=W(o,l[s]);return e=new Oe({props:o}),{c(){V(e.$$.fragment)},m(s,r){H(e,s,r),n=!0},p(s,[r]){const i=r&1?ve(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function mo(t,e,n){return t.$$set=l=>{n(0,e=W(W({},e),fe(l)))},e=fe(e),[e]}class po extends ne{constructor(e){super(),te(this,e,mo,go,x,{})}}function bo(t){let e;return{c(){e=De("path"),_(e,"d","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z")},m(n,l){B(n,e,l)},p:K,d(n){n&&A(e)}}}function vo(t){let e,n;const l=[{viewBox:"0 0 384 512"},t[0]];let o={$$slots:{default:[bo]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=W(o,l[s]);return e=new Oe({props:o}),{c(){V(e.$$.fragment)},m(s,r){H(e,s,r),n=!0},p(s,[r]){const i=r&1?ve(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function $o(t,e,n){return t.$$set=l=>{n(0,e=W(W({},e),fe(l)))},e=fe(e),[e]}class ko extends ne{constructor(e){super(),te(this,e,$o,vo,x,{})}}const{document:gn}=Tn;function mn(t,e,n){const l=t.slice();return l[34]=e[n],l}function pn(t,e,n){const l=t.slice();return l[37]=e[n],l}function bn(t,e,n){const l=t.slice();return l[34]=e[n],l[41]=n,l}function vn(t){let e,n;return{c(){e=g("link"),_(e,"rel","stylesheet"),_(e,"href",n="/css/themes/"+t[0].currentTheme+".min.css")},m(l,o){B(l,e,o)},p(l,o){o[0]&129&&n!==(n="/css/themes/"+l[0].currentTheme+".min.css")&&_(e,"href",n)},d(l){l&&A(e)}}}function $n(t){let e,n,l,o,s,r,i,a,c,f,d,m,p,h,$,C,O,P,v,D,y,Y,b,k,L,M,R,w,N,X,ae,Z,T,_e,ce,re,F,ee,ue,me,ge,Le,pe,Fe,jt,He,xe,Ue,Ot,et,Ve,Tt,Ce,je,Ae,gt,It,Be=ie(t[0].shifts),de=[];for(let z=0;z<Be.length;z+=1)de[z]=kn(bn(t,Be,z));const qn=z=>j(de[z],1,1,()=>{de[z]=null});i=new hs({}),i.$on("click",t[9]);let Ye=ie(t[7]),$e=[];for(let z=0;z<Ye.length;z+=1)$e[z]=wn(pn(t,Ye,z));Ue=new po({}),Ve=new ko({});const At=[yo,wo],Te=[];function Bt(z,se){return z[5]?0:1}return Ce=Bt(t),je=Te[Ce]=At[Ce](t),{c(){e=g("article"),n=g("div"),l=g("label"),l.textContent="Shifts",o=I(),s=g("ul");for(let z=0;z<de.length;z+=1)de[z].c();r=I(),V(i.$$.fragment),a=I(),c=g("div"),f=I(),d=g("label"),m=q(`Start Date\r
                `),p=g("input"),h=I(),$=g("div"),C=g("label"),C.textContent="Rhythm",O=I(),P=g("button"),P.textContent="Edit",v=I(),D=g("article"),y=g("label"),Y=q(`Themes\r
                `),b=g("select");for(let z=0;z<$e.length;z+=1)$e[z].c();k=I(),L=g("fieldset"),M=g("legend"),M.textContent="Mode",R=I(),w=g("label"),N=g("input"),ae=q(`\r
                    Auto`),Z=I(),T=g("label"),_e=g("input"),re=q(`\r
                    Dark`),F=I(),ee=g("label"),ue=g("input"),ge=q(`\r
                    Light`),Le=I(),pe=g("article"),Fe=g("h2"),Fe.textContent="Data Storage",jt=I(),He=g("div"),xe=g("button"),V(Ue.$$.fragment),Ot=I(),et=g("button"),V(Ve.$$.fragment),Tt=I(),je.c(),_(l,"class","svelte-1j70psx"),_(s,"class","shifts-available"),_(n,"class","shifts svelte-1j70psx"),_(c,"class","spacer svelte-1j70psx"),_(p,"type","date"),_(p,"name","start-date"),_(p,"class","shift-start-date"),_(d,"for","start-date"),_(d,"class","svelte-1j70psx"),_(C,"class","svelte-1j70psx"),_(P,"class","secondary svelte-1j70psx"),_($,"class","rhythm svelte-1j70psx"),_(e,"class","shift-scheduler"),t[0].currentTheme===void 0&&Qe(()=>t[12].call(b)),_(y,"class","svelte-1j70psx"),_(N,"type","radio"),N.value="auto",N.checked=X=t[0].mode==="auto",_(w,"class","svelte-1j70psx"),_(_e,"type","radio"),_e.value="dark",_e.checked=ce=t[0].mode==="dark",_(T,"class","svelte-1j70psx"),_(ue,"type","radio"),ue.value="light",ue.checked=me=t[0].mode==="light",_(ee,"class","svelte-1j70psx"),_(D,"class","themes"),_(Fe,"class","svelte-1j70psx"),_(xe,"class","upload secondary outline svelte-1j70psx"),_(et,"class","download secondary outline svelte-1j70psx"),_(He,"class","button-group svelte-1j70psx"),_(pe,"class","data-storage svelte-1j70psx")},m(z,se){B(z,e,se),u(e,n),u(n,l),u(n,o),u(n,s);for(let ye=0;ye<de.length;ye+=1)de[ye]&&de[ye].m(s,null);u(s,r),H(i,s,null),u(e,a),u(e,c),u(e,f),u(e,d),u(d,m),u(d,p),oe(p,t[0].startDate),u(e,h),u(e,$),u($,C),u($,O),u($,P),B(z,v,se),B(z,D,se),u(D,y),u(y,Y),u(y,b);for(let ye=0;ye<$e.length;ye+=1)$e[ye]&&$e[ye].m(b,null);Ke(b,t[0].currentTheme,!0),u(D,k),u(D,L),u(L,M),u(L,R),u(L,w),u(w,N),u(w,ae),u(L,Z),u(L,T),u(T,_e),u(T,re),u(L,F),u(L,ee),u(ee,ue),u(ee,ge),B(z,Le,se),B(z,pe,se),u(pe,Fe),u(pe,jt),u(pe,He),u(He,xe),H(Ue,xe,null),u(He,Ot),u(He,et),H(Ve,et,null),u(pe,Tt),Te[Ce].m(pe,null),Ae=!0,gt||(It=[J(p,"input",t[10]),J(P,"click",t[11]),J(b,"change",t[12]),J(N,"change",t[13]),J(_e,"change",t[14]),J(ue,"change",t[15]),J(xe,"click",t[16]),J(et,"click",t[17])],gt=!0)},p(z,se){if(se[0]&9){Be=ie(z[0].shifts);let le;for(le=0;le<Be.length;le+=1){const tt=bn(z,Be,le);de[le]?(de[le].p(tt,se),S(de[le],1)):(de[le]=kn(tt),de[le].c(),S(de[le],1),de[le].m(s,r))}for(ke(),le=Be.length;le<de.length;le+=1)qn(le);we()}if(se[0]&129&&oe(p,z[0].startDate),se[0]&128){Ye=ie(z[7]);let le;for(le=0;le<Ye.length;le+=1){const tt=pn(z,Ye,le);$e[le]?$e[le].p(tt,se):($e[le]=wn(tt),$e[le].c(),$e[le].m(b,null))}for(;le<$e.length;le+=1)$e[le].d(1);$e.length=Ye.length}se[0]&129&&Ke(b,z[0].currentTheme),(!Ae||se[0]&129&&X!==(X=z[0].mode==="auto"))&&(N.checked=X),(!Ae||se[0]&129&&ce!==(ce=z[0].mode==="dark"))&&(_e.checked=ce),(!Ae||se[0]&129&&me!==(me=z[0].mode==="light"))&&(ue.checked=me);let ye=Ce;Ce=Bt(z),Ce===ye?Te[Ce].p(z,se):(ke(),j(Te[ye],1,1,()=>{Te[ye]=null}),we(),je=Te[Ce],je?je.p(z,se):(je=Te[Ce]=At[Ce](z),je.c()),S(je,1),je.m(pe,null))},i(z){if(!Ae){for(let se=0;se<Be.length;se+=1)S(de[se]);S(i.$$.fragment,z),S(Ue.$$.fragment,z),S(Ve.$$.fragment,z),S(je),Ae=!0}},o(z){de=de.filter(Boolean);for(let se=0;se<de.length;se+=1)j(de[se]);j(i.$$.fragment,z),j(Ue.$$.fragment,z),j(Ve.$$.fragment,z),j(je),Ae=!1},d(z){z&&(A(e),A(v),A(D),A(Le),A(pe)),Ee(de,z),U(i),Ee($e,z),U(Ue),U(Ve),Te[Ce].d(),gt=!1,Me(It)}}}function kn(t){let e,n;const l=[t[34]];function o(){return t[8](t[41])}let s={};for(let r=0;r<l.length;r+=1)s=W(s,l[r]);return e=new rt({props:s}),e.$on("click",o),{c(){V(e.$$.fragment)},m(r,i){H(e,r,i),n=!0},p(r,i){t=r;const a=i[0]&1?ve(l,[Se(t[34])]):{};e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function wn(t){let e,n=t[37]+"",l;return{c(){e=g("option"),l=q(n),e.__value=t[37],oe(e,e.__value)},m(o,s){B(o,e,s),u(e,l)},p:K,d(o){o&&A(e)}}}function wo(t){let e,n,l;return{c(){e=g("button"),e.textContent="Load Data",_(e,"class","load-data svelte-1j70psx")},m(o,s){B(o,e,s),n||(l=J(e,"click",t[20]),n=!0)},p:K,i:K,o:K,d(o){o&&A(e),n=!1,l()}}}function yo(t){let e,n,l,o,s,r=t[6],i,a=Dn(t);return{c(){e=g("figure"),n=g("table"),l=g("thead"),l.innerHTML='<tr><th scope="col">Year</th> <th scope="col">Month</th> <th scope="col">Actions</th></tr>',o=I(),s=g("tbody"),a.c(),_(n,"role","grid")},m(c,f){B(c,e,f),u(e,n),u(n,l),u(n,o),u(n,s),a.m(s,null),i=!0},p(c,f){f[0]&64&&x(r,r=c[6])?(ke(),j(a,1,1,K),we(),a=Dn(c),a.c(),S(a,1),a.m(s,null)):a.p(c,f)},i(c){i||(S(a),i=!0)},o(c){j(a),i=!1},d(c){c&&A(e),a.d(c)}}}function Do(t){let e,n;return e=new ho({}),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function Po(t){let e,n;return e=new Yn({}),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function yn(t){let e,n,l,o,s,r,i,a,c,f,d;function m(){return t[18](t[34])}i=new Ie({props:{style:`
                                                    margin: 4px;
                                                `,$$slots:{default:[Do]},$$scope:{ctx:t}}}),i.$on("click",m);function p(){return t[19](t[34])}return c=new Ie({props:{style:`
                                                    margin: 4px;
                                                `,$$slots:{default:[Po]},$$scope:{ctx:t}}}),c.$on("click",p),{c(){e=g("tr"),n=g("td"),n.textContent=`${t[34].year}`,l=I(),o=g("td"),o.textContent=`${t[34].month+1}`,s=I(),r=g("td"),V(i.$$.fragment),a=I(),V(c.$$.fragment),f=I(),_(r,"class","actions svelte-1j70psx")},m(h,$){B(h,e,$),u(e,n),u(e,l),u(e,o),u(e,s),u(e,r),H(i,r,null),u(r,a),H(c,r,null),u(e,f),d=!0},p(h,$){t=h;const C={};$[1]&2048&&(C.$$scope={dirty:$,ctx:t}),i.$set(C);const O={};$[1]&2048&&(O.$$scope={dirty:$,ctx:t}),c.$set(O)},i(h){d||(S(i.$$.fragment,h),S(c.$$.fragment,h),d=!0)},o(h){j(i.$$.fragment,h),j(c.$$.fragment,h),d=!1},d(h){h&&A(e),U(i),U(c)}}}function Dn(t){let e,n,l=ie(Pt().sort(Pn).sort(Sn)),o=[];for(let r=0;r<l.length;r+=1)o[r]=yn(mn(t,l,r));const s=r=>j(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=Re()},m(r,i){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(r,i);B(r,e,i),n=!0},p(r,i){if(i[0]&66){l=ie(Pt().sort(Pn).sort(Sn));let a;for(a=0;a<l.length;a+=1){const c=mn(r,l,a);o[a]?(o[a].p(c,i),S(o[a],1)):(o[a]=yn(c),o[a].c(),S(o[a],1),o[a].m(e.parentNode,e))}for(ke(),a=l.length;a<o.length;a+=1)s(a);we()}},i(r){if(!n){for(let i=0;i<l.length;i+=1)S(o[i]);n=!0}},o(r){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)j(o[i]);n=!1},d(r){r&&A(e),Ee(o,r)}}}function So(t){let e,n,l,o,s,r,i,a,c,f,d,m,p=!!t[0]&&vn(t),h=!!t[0]&&$n(t),$={};s=new vs({props:$}),t[21](s),s.$on("cancel",t[22]),s.$on("submit",t[23]);let C={};i=new ms({props:C}),t[24](i),i.$on("cancel",t[25]),i.$on("submit",t[26]);let O={};c=new ss({props:O}),t[27](c),c.$on("cancel",t[28]),c.$on("submit",t[29]);let P={};return d=new js({props:P}),t[30](d),d.$on("close",t[31]),{c(){p&&p.c(),e=Re(),n=I(),l=g("div"),h&&h.c(),o=I(),V(s.$$.fragment),r=I(),V(i.$$.fragment),a=I(),V(c.$$.fragment),f=I(),V(d.$$.fragment),_(l,"class","container svelte-1j70psx")},m(v,D){p&&p.m(gn.head,null),u(gn.head,e),B(v,n,D),B(v,l,D),h&&h.m(l,null),B(v,o,D),H(s,v,D),B(v,r,D),H(i,v,D),B(v,a,D),H(c,v,D),B(v,f,D),H(d,v,D),m=!0},p(v,D){v[0]?p?p.p(v,D):(p=vn(v),p.c(),p.m(e.parentNode,e)):p&&(p.d(1),p=null),v[0]?h?(h.p(v,D),D[0]&1&&S(h,1)):(h=$n(v),h.c(),S(h,1),h.m(l,null)):h&&(ke(),j(h,1,1,()=>{h=null}),we());const y={};s.$set(y);const Y={};i.$set(Y);const b={};c.$set(b);const k={};d.$set(k)},i(v){m||(S(h),S(s.$$.fragment,v),S(i.$$.fragment,v),S(c.$$.fragment,v),S(d.$$.fragment,v),m=!0)},o(v){j(h),j(s.$$.fragment,v),j(i.$$.fragment,v),j(c.$$.fragment,v),j(d.$$.fragment,v),m=!1},d(v){v&&(A(n),A(l),A(o),A(r),A(a),A(f)),p&&p.d(v),A(e),h&&h.d(),t[21](null),U(s,v),t[24](null),U(i,v),t[27](null),U(c,v),t[30](null),U(d,v)}}}const Pn=(t,e)=>t.year>e.year?1:-1,Sn=(t,e)=>t.month>e.month&&t.year===e.year?1:-1;function Co(t,e,n){let l,o,s,r,i,a=["custom","picocss"],c=!1,f=!1;function d(){return E(this,null,function*(){yield Un(),n(0,i=G)})}function m(){return E(this,null,function*(){console.warn("saving data..."),i.mode!=="auto"?document.documentElement.setAttribute("data-theme",i.mode):document.documentElement.removeAttribute("data-theme"),yield Ml(i)})}const p=F=>E(this,null,function*(){s.open(i.shifts,F.toString())}),h=()=>E(this,null,function*(){return o.open()});function $(){i.startDate=this.value,n(0,i),n(7,a)}const C=()=>E(this,null,function*(){r.open(i.shifts,i.shiftRhythm)});function O(){i.currentTheme=Ct(this),n(0,i),n(7,a)}const P=()=>E(this,null,function*(){return n(0,i.mode="auto",i)}),v=()=>E(this,null,function*(){return n(0,i.mode="dark",i)}),D=()=>E(this,null,function*(){return n(0,i.mode="light",i)}),y=()=>E(this,null,function*(){const F=document.createElement("input");F.type="file",F.onchange=()=>E(this,null,function*(){const ee=new FileReader;ee.onload=()=>E(this,null,function*(){if(typeof ee.result=="string")try{const ue=JSON.parse(ee.result);for(const[me,ge]of Object.entries(ue))if(!wl(ge)){console.error(`Data Upload: data "${me}" invalid`,ge);return}for(const[me,ge]of Object.entries(ue)){const Le=me.split("-",3),pe=parseInt(Le[1],10),Fe=parseInt(Le[2],10);yield Mt(pe,Fe,ge)}}catch(ue){alert(`Data upload failed!
${ue}`)}}),ee.onerror=ue=>E(this,null,function*(){console.error("Data Upload: Read file failed:",ue)}),ee.readAsText(F.files[0])}),F.click()}),Y=()=>E(this,null,function*(){const F=yield Dl();try{yield Pl(F,Lt()?"android":"browser")}catch(ee){alert(`Data download failed!
${ee}`)}}),b=F=>E(this,null,function*(){l.open(F.year,F.month)}),k=F=>E(this,null,function*(){window.confirm(`Delete all data for "${F.year}/${(F.month+1).toString().padStart(2,"0")}" ?`)&&(yield Hn(F.year,F.month),n(6,f=!f))}),L=()=>E(this,null,function*(){n(5,c=!0)});function M(F){he[F?"unshift":"push"](()=>{s=F,n(3,s)})}const R=()=>{s.close()},w=ee=>E(this,[ee],function*({detail:F}){s.close(),n(0,i.shifts=F,i)});function N(F){he[F?"unshift":"push"](()=>{r=F,n(4,r)})}const X=()=>{r.close()},ae=ee=>E(this,[ee],function*({detail:F}){r.close(),n(0,i.shiftRhythm=F,i)});function Z(F){he[F?"unshift":"push"](()=>{o=F,n(2,o)})}const T=()=>E(this,null,function*(){o.close()}),_e=F=>E(this,null,function*(){o.close();const ee=F.detail;ee.name&&(ee.id=new Date().getTime(),n(0,i.shifts=[...i.shifts,ee],i))});function ce(F){he[F?"unshift":"push"](()=>{l=F,n(1,l)})}const re=()=>E(this,null,function*(){l.close()});return t.$$.update=()=>{t.$$.dirty[0]&1&&(!i&&d()||m())},[i,l,o,s,r,c,f,a,p,h,$,C,O,P,v,D,y,Y,b,k,L,M,R,w,N,X,ae,Z,T,_e,ce,re]}class Eo extends ne{constructor(e){super(),te(this,e,Co,So,x,{},null,[-1,-1])}}const{document:Mo}=Tn;function Cn(t,e,n){const l=t.slice();return l[31]=e[n],l[33]=n,l}function Lo(t){let e,n;return e=new Eo({}),{c(){V(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},p:K,i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){U(e,l)}}}function jo(t){let e,n,l={};return e=new ao({props:l}),t[19](e),e.$on("click",t[20]),e.$on("currentdatechange",t[21]),{c(){V(e.$$.fragment)},m(o,s){H(e,o,s),n=!0},p(o,s){const r={};e.$set(r)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){t[19](null),U(e,o)}}}function En(t){let e,n,l,o,s;n=new rt({props:{name:"Reset",visible:!1,active:t[7]===-2,color:"var(--color)",id:-2}}),n.$on("click",t[22]);let r=ie(G.shifts),i=[];for(let c=0;c<r.length;c+=1)i[c]=Mn(Cn(t,r,c));const a=c=>j(i[c],1,1,()=>{i[c]=null});return{c(){e=g("span"),V(n.$$.fragment),l=I();for(let c=0;c<i.length;c+=1)i[c].c();o=Re()},m(c,f){B(c,e,f),H(n,e,null),B(c,l,f);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(c,f);B(c,o,f),s=!0},p(c,f){const d={};if(f[0]&128&&(d.active=c[7]===-2),n.$set(d),f[0]&128){r=ie(G.shifts);let m;for(m=0;m<r.length;m+=1){const p=Cn(c,r,m);i[m]?(i[m].p(p,f),S(i[m],1)):(i[m]=Mn(p),i[m].c(),S(i[m],1),i[m].m(o.parentNode,o))}for(ke(),m=r.length;m<i.length;m+=1)a(m);we()}},i(c){if(!s){S(n.$$.fragment,c);for(let f=0;f<r.length;f+=1)S(i[f]);s=!0}},o(c){j(n.$$.fragment,c),i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)j(i[f]);s=!1},d(c){c&&(A(e),A(l),A(o)),U(n),Ee(i,c)}}}function Mn(t){let e,n,l,o;const s=[t[31],{active:t[7]==t[33]}];function r(){return t[23](t[33])}let i={};for(let a=0;a<s.length;a+=1)i=W(i,s[a]);return n=new rt({props:i}),n.$on("click",r),{c(){e=g("span"),V(n.$$.fragment),l=I()},m(a,c){B(a,e,c),H(n,e,null),u(e,l),o=!0},p(a,c){t=a;const f=c[0]&128?ve(s,[s[0],{active:t[7]==t[33]}]):{};n.$set(f)},i(a){o||(S(n.$$.fragment,a),o=!0)},o(a){j(n.$$.fragment,a),o=!1},d(a){a&&A(e),U(n)}}}function Oo(t){let e,n,l,o,s,r,i,a,c,f,d,m,p,h,$;function C(b){t[14](b)}let O={enableBackButton:t[5].length>1,enableDatePicker:t[4]==="calendar",title:t[4]==="settings"?"Settings":void 0};t[3]!==void 0&&(O.datePickerDate=t[3]),o=new Vs({props:O}),t[13](o),he.push(()=>Rn(o,"datePickerDate",C)),o.$on("backbuttonclick",t[15]),o.$on("editmodeclick",t[16]),o.$on("currentdatechange",t[17]),o.$on("goto",t[18]);const P=[jo,Lo],v=[];function D(b,k){return b[4]==="calendar"?0:b[4]==="settings"?1:-1}~(a=D(t))&&(c=v[a]=P[a](t));let y=t[6]&&!!G&&En(t),Y={};return h=new ts({props:Y}),t[24](h),h.$on("cancel",t[25]),h.$on("submit",t[26]),{c(){e=g("link"),l=I(),V(o.$$.fragment),r=I(),i=g("main"),c&&c.c(),d=I(),m=g("footer"),y&&y.c(),p=I(),V(h.$$.fragment),_(e,"rel","stylesheet"),_(e,"href",n="/css/themes/"+t[8]+".min.css"),_(i,"style",f=`bottom: ${t[6]?"calc(3em + 22px)":"1px"}`),_(i,"class","svelte-1v6xg30"),_(m,"class","svelte-1v6xg30"),Q(m,"visible",t[6])},m(b,k){u(Mo.head,e),B(b,l,k),H(o,b,k),B(b,r,k),B(b,i,k),~a&&v[a].m(i,null),B(b,d,k),B(b,m,k),y&&y.m(m,null),B(b,p,k),H(h,b,k),$=!0},p(b,k){(!$||k[0]&256&&n!==(n="/css/themes/"+b[8]+".min.css"))&&_(e,"href",n);const L={};k[0]&32&&(L.enableBackButton=b[5].length>1),k[0]&16&&(L.enableDatePicker=b[4]==="calendar"),k[0]&16&&(L.title=b[4]==="settings"?"Settings":void 0),!s&&k[0]&8&&(s=!0,L.datePickerDate=b[3],Bn(()=>s=!1)),o.$set(L);let M=a;a=D(b),a===M?~a&&v[a].p(b,k):(c&&(ke(),j(v[M],1,1,()=>{v[M]=null}),we()),~a?(c=v[a],c?c.p(b,k):(c=v[a]=P[a](b),c.c()),S(c,1),c.m(i,null)):c=null),(!$||k[0]&64&&f!==(f=`bottom: ${b[6]?"calc(3em + 22px)":"1px"}`))&&_(i,"style",f),b[6]&&G?y?(y.p(b,k),k[0]&64&&S(y,1)):(y=En(b),y.c(),S(y,1),y.m(m,null)):y&&(ke(),j(y,1,1,()=>{y=null}),we()),(!$||k[0]&64)&&Q(m,"visible",b[6]);const R={};h.$set(R)},i(b){$||(S(o.$$.fragment,b),S(c),S(y),S(h.$$.fragment,b),$=!0)},o(b){j(o.$$.fragment,b),j(c),j(y),j(h.$$.fragment,b),$=!1},d(b){b&&(A(l),A(r),A(i),A(d),A(m),A(p)),A(e),t[13](null),U(o,b),~a&&v[a].d(),y&&y.d(),t[24](null),U(h,b)}}}function To(t,e,n){let l,o,s;function r(){s.set(i)}let i=new Date;function a(T){return E(this,null,function*(){T&&n(3,i=T),s.set(i)})}let c="calendar",f=[c];function d(T){return E(this,null,function*(){n(6,p=!1),n(5,f=[...f,T]),n(4,c=T),c==="calendar"&&O()})}function m(){return E(this,null,function*(){f.length!==1&&(f.pop(),n(5,f),n(4,c=f[f.length-1]))})}let p=!1,h=-1;function $(){return E(this,null,function*(){return h===-2?"reset":G.shifts[h]||null})}let C="custom";function O(){return E(this,null,function*(){Un().then(()=>{n(8,C=G.currentTheme),G.mode!=="auto"?document.documentElement.setAttribute("data-theme",G.mode):document.documentElement.removeAttribute("data-theme")})})}function P(){return E(this,null,function*(){const T=new Date,ce=new Date(T.getFullYear(),T.getMonth(),T.getDate()+1,0,0,0,0).getTime()-T.getTime();console.debug(`updateToday: timeout set to ${ce}`),setTimeout(()=>{console.debug("update today: reload calendar"),s.reload(),P()},ce)})}xn(()=>E(this,null,function*(){Lt()&&vl.addListener("backButton",()=>m()),O(),P()}));function v(T){he[T?"unshift":"push"](()=>{l=T,n(1,l)})}function D(T){i=T,n(3,i)}const y=()=>m(),Y=()=>n(6,p=!p),b=({detail:T})=>a(T),k=({detail:T})=>d(T);function L(T){he[T?"unshift":"push"](()=>{s=T,n(0,s)})}const M=T=>{setTimeout(()=>E(this,null,function*(){if(T.detail&&p){let _e=yield $();if(!_e)return;const ce=`${T.detail.getFullYear()}-${T.detail.getMonth()}-${T.detail.getDate()}`,{note:re}=yield yl(T.detail.getFullYear(),T.detail.getMonth(),ce);_e==="reset"?(_e=null,re?yield $t(T.detail.getFullYear(),T.detail.getMonth(),ce,null,re):yield St(T.detail.getFullYear(),T.detail.getMonth(),ce)):yield $t(T.detail.getFullYear(),T.detail.getMonth(),ce,_e,re),s.reload()}else T.detail&&o.open(T.detail.getFullYear(),T.detail.getMonth(),T.detail.getDate())}),100)},R=({detail:T})=>n(3,i=T),w=()=>{n(7,h=h===-2?-1:-2)},N=T=>{n(7,h=h===T?-1:T)};function X(T){he[T?"unshift":"push"](()=>{o=T,n(2,o)})}const ae=()=>E(this,null,function*(){o.close()}),Z=_e=>E(this,[_e],function*({detail:T}){const ce=`${T.date.year}-${T.date.month}-${T.date.date}`;!T.shift&&!T.note?yield St(T.date.year,T.date.month,ce):yield $t(T.date.year,T.date.month,ce,T.shift,T.note),o.close(),s.reload()});return t.$$.update=()=>{t.$$.dirty[0]&1&&s&&r()},[s,l,o,i,c,f,p,h,C,a,d,m,$,v,D,y,Y,b,k,L,M,R,w,N,X,ae,Z]}class Io extends ne{constructor(e){super(),te(this,e,To,Oo,x,{},null,[-1,-1])}}new Io({target:document.getElementById("app")});export{Dt as E,Fn as W,pl as b};
