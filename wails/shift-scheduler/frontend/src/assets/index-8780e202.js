var Wn=Object.defineProperty;var Bt=Object.getOwnPropertySymbols;var Xn=Object.prototype.hasOwnProperty,Jn=Object.prototype.propertyIsEnumerable;var mt=(t,e,n)=>e in t?Wn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zt=(t,e)=>{for(var n in e||(e={}))Xn.call(e,n)&&mt(t,n,e[n]);if(Bt)for(var n of Bt(e))Jn.call(e,n)&&mt(t,n,e[n]);return t};var pt=(t,e,n)=>(mt(t,typeof e!="symbol"?e+"":e,n),n);var C=(t,e,n)=>new Promise((l,o)=>{var s=a=>{try{i(n.next(a))}catch(c){o(c)}},r=a=>{try{i(n.throw(a))}catch(c){o(c)}},i=a=>a.done?l(a.value):Promise.resolve(a.value).then(s,r);i((n=n.apply(t,e)).next())});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Q(){}function J(t,e){for(const n in e)t[n]=e[n];return t}function Tn(t){return t()}function Ft(){return Object.create(null)}function Ee(t){t.forEach(Tn)}function In(t){return typeof t=="function"}function te(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Gn(t){return Object.keys(t).length===0}function ft(t,e,n,l){if(t){const o=An(t,e,n,l);return t[0](o)}}function An(t,e,n,l){return t[1]&&l?J(n.ctx.slice(),t[1](l(e))):n.ctx}function dt(t,e,n,l){if(t[2]&&l){const o=t[2](l(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const s=[],r=Math.max(e.dirty.length,o.length);for(let i=0;i<r;i+=1)s[i]=e.dirty[i]|o[i];return s}return e.dirty|o}return e.dirty}function ht(t,e,n,l,o,s){if(o){const r=An(e,n,l,s);t.p(r,o)}}function _t(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function fe(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Je(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}const Nn=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function u(t,e){t.appendChild(e)}function I(t,e,n){t.insertBefore(e,n||null)}function O(t){t.parentNode&&t.parentNode.removeChild(t)}function Pe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function De(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t){return document.createTextNode(t)}function A(){return X(" ")}function Be(){return X("")}function G(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Kn=["width","height"];function Ge(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const l in e)e[l]==null?t.removeAttribute(l):l==="style"?t.style.cssText=e[l]:l==="__value"?t.value=t[l]=e[l]:n[l]&&n[l].set&&Kn.indexOf(l)===-1?t[l]=e[l]:_(t,l,e[l])}function it(t){return t===""?null:+t}function Qn(t){return Array.from(t.childNodes)}function ve(t,e){e=""+e,t.data!==e&&(t.data=e)}function re(t,e){t.value=e==null?"":e}function at(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Ke(t,e,n){for(let l=0;l<t.options.length;l+=1){const o=t.options[l];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Pt(t){const e=t.querySelector(":checked");return e&&e.__value}function he(t,e,n){t.classList.toggle(e,!!n)}function Zn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}let lt;function nt(t){lt=t}function Rn(){if(!lt)throw new Error("Function called outside component initialization");return lt}function xn(t){Rn().$$.on_mount.push(t)}function Le(){const t=Rn();return(e,n,{cancelable:l=!1}={})=>{const o=t.$$.callbacks[e];if(o){const s=Zn(e,n,{cancelable:l});return o.slice().forEach(r=>{r.call(t,s)}),!s.defaultPrevented}return!0}}function Et(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const We=[],_e=[];let Xe=[];const wt=[],el=Promise.resolve();let kt=!1;function tl(){kt||(kt=!0,el.then(Bn))}function Qe(t){Xe.push(t)}function nl(t){wt.push(t)}const bt=new Set;let qe=0;function Bn(){if(qe!==0)return;const t=lt;do{try{for(;qe<We.length;){const e=We[qe];qe++,nt(e),ll(e.$$)}}catch(e){throw We.length=0,qe=0,e}for(nt(null),We.length=0,qe=0;_e.length;)_e.pop()();for(let e=0;e<Xe.length;e+=1){const n=Xe[e];bt.has(n)||(bt.add(n),n())}Xe.length=0}while(We.length);for(;wt.length;)wt.pop()();kt=!1,bt.clear(),nt(t)}function ll(t){if(t.fragment!==null){t.update(),Ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Qe)}}function sl(t){const e=[],n=[];Xe.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Xe=e}const rt=new Set;let Re;function ge(){Re={r:0,c:[],p:Re}}function me(){Re.r||Ee(Re.c),Re=Re.p}function y(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function j(t,e,n,l){if(t&&t.o){if(rt.has(t))return;rt.add(t),Re.c.push(()=>{rt.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function ae(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function $e(t,e){const n={},l={},o={$$scope:1};let s=t.length;for(;s--;){const r=t[s],i=e[s];if(i){for(const a in r)a in i||(l[a]=1);for(const a in i)o[a]||(n[a]=i[a],o[a]=1);t[s]=i}else for(const a in r)o[a]=1}for(const r in l)r in n||(n[r]=void 0);return n}function Se(t){return typeof t=="object"&&t!==null?t:{}}function ol(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function q(t){t&&t.c()}function U(t,e,n){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),Qe(()=>{const s=t.$$.on_mount.map(Tn).filter(In);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ee(s),t.$$.on_mount=[]}),o.forEach(Qe)}function Y(t,e){const n=t.$$;n.fragment!==null&&(sl(n.after_update),Ee(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rl(t,e){t.$$.dirty[0]===-1&&(We.push(t),tl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function le(t,e,n,l,o,s,r,i=[-1]){const a=lt;nt(t);const c=t.$$={fragment:null,ctx:[],props:s,update:Q,not_equal:o,bound:Ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ft(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let d=!1;if(c.ctx=n?n(t,e.props||{},(f,p,...m)=>{const h=m.length?m[0]:p;return c.ctx&&o(c.ctx[f],c.ctx[f]=h)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](h),d&&rl(t,f)),p}):[],c.update(),d=!0,Ee(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const f=Qn(e.target);c.fragment&&c.fragment.l(f),f.forEach(O)}else c.fragment&&c.fragment.c();e.intro&&y(t.$$.fragment),U(t,e.target,e.anchor),Bn()}nt(a)}class se{constructor(){pt(this,"$$");pt(this,"$$set")}$destroy(){Y(this,1),this.$destroy=Q}$on(e,n){if(!In(n))return Q;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!Gn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const il="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(il);const al="modulepreload",cl=function(t){return"/"+t},Ht={},Mt=function(e,n,l){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=cl(s),s in Ht)return;Ht[s]=!0;const r=s.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(!!l)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===s&&(!r||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${i}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":al,r||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),r)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const ul=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},l=(s,r)=>{n.platforms.set(s,r)},o=s=>{n.platforms.has(s)&&(n.currentPlatform=n.platforms.get(s))};return n.addPlatform=l,n.setPlatform=o,n},fl=t=>t.CapacitorPlatforms=ul(t),zn=fl(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});zn.addPlatform;zn.setPlatform;var Ze;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Ze||(Ze={}));class vt extends Error{constructor(e,n,l){super(e),this.message=e,this.code=n,this.data=l}}const dl=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},hl=t=>{var e,n,l,o,s;const r=t.CapacitorCustomPlatform||null,i=t.Capacitor||{},a=i.Plugins=i.Plugins||{},c=t.CapacitorPlatforms,d=()=>r!==null?r.name:dl(t),f=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||d,p=()=>f()!=="web",m=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||p,h=D=>{const k=w.get(D);return!!(k!=null&&k.platforms.has(f())||N(D))},v=((l=c==null?void 0:c.currentPlatform)===null||l===void 0?void 0:l.isPluginAvailable)||h,P=D=>{var k;return(k=i.PluginHeaders)===null||k===void 0?void 0:k.find(L=>L.name===D)},N=((o=c==null?void 0:c.currentPlatform)===null||o===void 0?void 0:o.getPluginHeader)||P,E=D=>t.console.error(D),$=(D,k,L)=>Promise.reject(`${L} does not have an implementation of "${k}".`),w=new Map,T=(D,k={})=>{const L=w.get(D);if(L)return console.warn(`Capacitor plugin "${D}" already registered. Cannot register plugins twice.`),L.proxy;const M=f(),B=N(D);let S;const K=()=>C(void 0,null,function*(){return!S&&M in k?S=typeof k[M]=="function"?S=yield k[M]():S=k[M]:r!==null&&!S&&"web"in k&&(S=typeof k.web=="function"?S=yield k.web():S=k.web),S}),V=(H,b)=>{var ee,x;if(B){const ie=B==null?void 0:B.methods.find(ue=>b===ue.name);if(ie)return ie.rtype==="promise"?ue=>i.nativePromise(D,b.toString(),ue):(ue,Me)=>i.nativeCallback(D,b.toString(),ue,Me);if(H)return(ee=H[b])===null||ee===void 0?void 0:ee.bind(H)}else{if(H)return(x=H[b])===null||x===void 0?void 0:x.bind(H);throw new vt(`"${D}" plugin is not implemented on ${M}`,Ze.Unimplemented)}},ce=H=>{let b;const ee=(...x)=>{const ie=K().then(ue=>{const Me=V(ue,H);if(Me){const be=Me(...x);return b=be==null?void 0:be.remove,be}else throw new vt(`"${D}.${H}()" is not implemented on ${M}`,Ze.Unimplemented)});return H==="addListener"&&(ie.remove=()=>C(void 0,null,function*(){return b()})),ie};return ee.toString=()=>`${H.toString()}() { [capacitor code] }`,Object.defineProperty(ee,"name",{value:H,writable:!1,configurable:!1}),ee},W=ce("addListener"),pe=ce("removeListener"),we=(H,b)=>{const ee=W({eventName:H},b),x=()=>C(void 0,null,function*(){const ue=yield ee;pe({eventName:H,callbackId:ue},b)}),ie=new Promise(ue=>ee.then(()=>ue({remove:x})));return ie.remove=()=>C(void 0,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield x()}),ie},R=new Proxy({},{get(H,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return B?we:W;case"removeListener":return pe;default:return ce(b)}}});return a[D]=R,w.set(D,{name:D,proxy:R,platforms:new Set([...Object.keys(k),...B?[M]:[]])}),R},F=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||T;return i.convertFileSrc||(i.convertFileSrc=D=>D),i.getPlatform=f,i.handleError=E,i.isNativePlatform=m,i.isPluginAvailable=v,i.pluginMethodNoop=$,i.registerPlugin=F,i.Exception=vt,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i.platform=i.getPlatform(),i.isNative=i.isNativePlatform(),i},_l=t=>t.Capacitor=hl(t),ct=_l(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),st=ct.registerPlugin;ct.Plugins;class Fn{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o);const s=()=>C(this,null,function*(){return this.removeListener(e,n)}),r=Promise.resolve({remove:s});return Object.defineProperty(r,"remove",{value:()=>C(this,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield s()})}),r}removeAllListeners(){return C(this,null,function*(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}})}notifyListeners(e,n){const l=this.listeners[e];l&&l.forEach(o=>o(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:l=>{this.notifyListeners(n,l)}}}unimplemented(e="not implemented"){return new ct.Exception(e,Ze.Unimplemented)}unavailable(e="not available"){return new ct.Exception(e,Ze.Unavailable)}removeListener(e,n){return C(this,null,function*(){const l=this.listeners[e];if(!l)return;const o=l.indexOf(n);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])})}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const Ut=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Yt=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class gl extends Fn{getCookies(){return C(this,null,function*(){const e=document.cookie,n={};return e.split(";").forEach(l=>{if(l.length<=0)return;let[o,s]=l.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=Yt(o).trim(),s=Yt(s).trim(),n[o]=s}),n})}setCookie(e){return C(this,null,function*(){try{const n=Ut(e.key),l=Ut(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),r=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${l||""}${o}; path=${s}; ${r};`}catch(n){return Promise.reject(n)}})}deleteCookie(e){return C(this,null,function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})}clearCookies(){return C(this,null,function*(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})}clearAllCookies(){return C(this,null,function*(){try{yield this.clearCookies()}catch(e){return Promise.reject(e)}})}}st("CapacitorCookies",{web:()=>new gl});const ml=t=>C(void 0,null,function*(){return new Promise((e,n)=>{const l=new FileReader;l.onload=()=>{const o=l.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},l.onerror=o=>n(o),l.readAsDataURL(t)})}),pl=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(o=>o.toLocaleLowerCase()).reduce((o,s,r)=>(o[s]=t[e[r]],o),{})},bl=(t,e=!0)=>t?Object.entries(t).reduce((l,o)=>{const[s,r]=o;let i,a;return Array.isArray(r)?(a="",r.forEach(c=>{i=e?encodeURIComponent(c):c,a+=`${s}=${i}&`}),a.slice(0,-1)):(i=e?encodeURIComponent(r):r,a=`${s}=${i}`),`${l}&${a}`},"").substr(1):null,vl=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),o=pl(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(o.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[r,i]of Object.entries(t.data||{}))s.set(r,i);n.body=s.toString()}else if(o.includes("multipart/form-data")){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((i,a)=>{s.append(a,i)});else for(const i of Object.keys(t.data))s.append(i,t.data[i]);n.body=s;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(o.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class $l extends Fn{request(e){return C(this,null,function*(){const n=vl(e,e.webFetchExtra),l=bl(e.params,e.shouldEncodeUrlParams),o=l?`${e.url}?${l}`:e.url,s=yield fetch(o,n),r=s.headers.get("content-type")||"";let{responseType:i="text"}=s.ok?e:{};r.includes("application/json")&&(i="json");let a,c;switch(i){case"arraybuffer":case"blob":c=yield s.blob(),a=yield ml(c);break;case"json":a=yield s.json();break;case"document":case"text":default:a=yield s.text()}const d={};return s.headers.forEach((f,p)=>{d[p]=f}),{data:a,headers:d,status:s.status,url:s.url}})}get(e){return C(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))})}post(e){return C(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))})}put(e){return C(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))})}patch(e){return C(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})}delete(e){return C(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})}}st("CapacitorHttp",{web:()=>new $l});const wl=st("App",{web:()=>Mt(()=>import("./web-5dd9adb2.js"),[]).then(t=>new t.AppWeb)});function Vt(t){let e,n;return{c(){e=De("title"),n=X(t[0])},m(l,o){I(l,e,o),u(e,n)},p(l,o){o&1&&ve(n,l[0])},d(l){l&&O(e)}}}function kl(t){let e,n,l,o=t[0]&&Vt(t);const s=t[3].default,r=ft(s,t,t[2],null);return{c(){e=De("svg"),o&&o.c(),n=Be(),r&&r.c(),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox",t[1]),_(e,"class","svelte-c8tyih")},m(i,a){I(i,e,a),o&&o.m(e,null),u(e,n),r&&r.m(e,null),l=!0},p(i,[a]){i[0]?o?o.p(i,a):(o=Vt(i),o.c(),o.m(e,n)):o&&(o.d(1),o=null),r&&r.p&&(!l||a&4)&&ht(r,s,i,i[2],l?dt(s,i[2],a,null):_t(i[2]),null),(!l||a&2)&&_(e,"viewBox",i[1])},i(i){l||(y(r,i),l=!0)},o(i){j(r,i),l=!1},d(i){i&&O(e),o&&o.d(),r&&r.d(i)}}}function yl(t,e,n){let{$$slots:l={},$$scope:o}=e,{title:s=null}=e,{viewBox:r}=e;return t.$$set=i=>{"title"in i&&n(0,s=i.title),"viewBox"in i&&n(1,r=i.viewBox),"$$scope"in i&&n(2,o=i.$$scope)},[s,r,o,l]}class Oe extends se{constructor(e){super(),le(this,e,yl,kl,te,{title:0,viewBox:1})}}function Dl(t){let e;return{c(){e=De("path"),_(e,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z")},m(n,l){I(n,e,l)},p:Q,d(n){n&&O(e)}}}function Sl(t){let e,n;const l=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[Dl]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=J(o,l[s]);return e=new Oe({props:o}),{c(){q(e.$$.fragment)},m(s,r){U(e,s,r),n=!0},p(s,[r]){const i=r&1?$e(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function Cl(t,e,n){return t.$$set=l=>{n(0,e=J(J({},e),fe(l)))},e=fe(e),[e]}class Pl extends se{constructor(e){super(),le(this,e,Cl,Sl,te,{})}}function El(t){let e;return{c(){e=De("path"),_(e,"d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z")},m(n,l){I(n,e,l)},p:Q,d(n){n&&O(e)}}}function Ml(t){let e,n;const l=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[El]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=J(o,l[s]);return e=new Oe({props:o}),{c(){q(e.$$.fragment)},m(s,r){U(e,s,r),n=!0},p(s,[r]){const i=r&1?$e(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function jl(t,e,n){return t.$$set=l=>{n(0,e=J(J({},e),fe(l)))},e=fe(e),[e]}class Ll extends se{constructor(e){super(),le(this,e,jl,Ml,te,{})}}function Ol(t){let e;return{c(){e=De("path"),_(e,"d","M19.164 19.547c-1.641-2.5-3.669-3.285-6.164-3.484v1.437c0 .534-.208 1.036-.586 1.414-.756.756-2.077.751-2.823.005l-6.293-6.207c-.191-.189-.298-.444-.298-.713s.107-.524.298-.712l6.288-6.203c.754-.755 2.073-.756 2.829.001.377.378.585.88.585 1.414v1.704c4.619.933 8 4.997 8 9.796v1c0 .442-.29.832-.714.958-.095.027-.19.042-.286.042-.331 0-.646-.165-.836-.452zm-7.141-5.536c2.207.056 4.638.394 6.758 2.121-.768-3.216-3.477-5.702-6.893-6.08-.504-.056-.888-.052-.888-.052v-3.497l-5.576 5.496 5.576 5.5v-3.499l1.023.011z")},m(n,l){I(n,e,l)},p:Q,d(n){n&&O(e)}}}function Tl(t){let e,n;const l=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[Ol]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=J(o,l[s]);return e=new Oe({props:o}),{c(){q(e.$$.fragment)},m(s,r){U(e,s,r),n=!0},p(s,[r]){const i=r&1?$e(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function Il(t,e,n){return t.$$set=l=>{n(0,e=J(J({},e),fe(l)))},e=fe(e),[e]}class Al extends se{constructor(e){super(),le(this,e,Il,Tl,te,{})}}function Nl(t){let e;return{c(){e=De("path"),_(e,"d","M20.285 7.119c-.05-.168-.184-.299-.354-.344-.172-.047-.352.003-.477.126l-2.616 2.557-1.914-.383-.381-1.907 2.645-2.585c.126-.123.178-.303.137-.474s-.168-.308-.336-.361c-.531-.166-1.018-.248-1.489-.248-2.757 0-5 2.243-5 5 0 .323.038.65.118 1.01-.562.463-1.096.862-1.701 1.314-.865.646-1.845 1.377-3.182 2.506-.785.686-1.235 1.659-1.235 2.67 0 1.93 1.57 3.5 3.5 3.5 1.021 0 1.993-.456 2.662-1.25 1.149-1.347 1.891-2.336 2.544-3.209.442-.591.832-1.111 1.283-1.66.36.081.688.119 1.011.119 2.757 0 5-2.243 5-5 0-.437-.068-.875-.215-1.381zm-12.285 9.881c-.553 0-1-.447-1-1s.447-1 1-1 1 .447 1 1-.447 1-1 1z")},m(n,l){I(n,e,l)},p:Q,d(n){n&&O(e)}}}function Rl(t){let e,n;const l=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[Nl]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=J(o,l[s]);return e=new Oe({props:o}),{c(){q(e.$$.fragment)},m(s,r){U(e,s,r),n=!0},p(s,[r]){const i=r&1?$e(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function Bl(t,e,n){return t.$$set=l=>{n(0,e=J(J({},e),fe(l)))},e=fe(e),[e]}class zl extends se{constructor(e){super(),le(this,e,Bl,Rl,te,{})}}var yt;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE"})(yt||(yt={}));var Dt;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(Dt||(Dt={}));const Fl=st("Filesystem",{web:()=>Mt(()=>import("./web-fe274201.js"),[]).then(t=>new t.FilesystemWeb)}),Hl=st("Share",{web:()=>Mt(()=>import("./web-01e71859.js"),[]).then(t=>new t.ShareWeb)});function Ul(t){try{for(const[e,n]of Object.entries(t))if(typeof e=="string"&&(!Object.hasOwn(n,"shift")||!Object.hasOwn(n,"note")||n.shift!==null&&(!Object.hasOwn(n.shift,"id")||!Object.hasOwn(n.shift,"name")||!Object.hasOwn(n.shift,"shortName")||!Object.hasOwn(n.shift,"visible")||typeof n.shift.id!="number"||typeof n.shift.name!="string"||typeof n.shift.shortName!="string"||typeof n.shift.visible!="boolean")||typeof n.note!="string"))return!1}catch(e){return!1}return!0}function St(){const t=[];for(let e=0;e<window.localStorage.length;e++){const l=window.localStorage.key(e).split("-",3);if(l.length===3){if(l[0]!=="db")continue;const o=parseInt(l[1],10),s=parseInt(l[2],10);if(isNaN(o)||isNaN(s)||s<0||s>11)continue;t.push({year:o,month:s})}}return t}function ze(t,e){return C(this,null,function*(){const n=window.localStorage.getItem(`db-${t}-${e}`);return n?JSON.parse(n):{}})}function jt(t,e,n){return C(this,null,function*(){window.localStorage.setItem(`db-${t}-${e}`,JSON.stringify(n))})}function Hn(t,e){return C(this,null,function*(){window.localStorage.removeItem(`db-${t}-${e}`)})}function Yl(t,e,n){return C(this,null,function*(){return(yield ze(t,e))[n]||{shift:null,note:""}})}function $t(t,e,n,l,o){return C(this,null,function*(){const s=yield ze(t,e);s[n]={shift:l,note:o},yield jt(t,e,s)})}function Ct(t,e,n){return C(this,null,function*(){const l=yield ze(t,e);delete l[n],Object.keys(l).length?yield jt(t,e,l):yield Hn(t,e)})}function Vl(){return C(this,null,function*(){const t={};for(const{year:e,month:n}of St())t[`db-${e}-${n}`]=yield ze(e,n);return t})}function ql(t,e="browser"){return C(this,null,function*(){switch(e){case"browser":yield Wl(t);break;case"android":yield Xl(t);break;default:throw`Unknown platform "${e}"`}})}function Wl(t){return C(this,null,function*(){const e=new Blob([JSON.stringify(t)],{type:"octet/stream"}),n=document.createElement("a");n.setAttribute("href",window.URL.createObjectURL(e)),n.setAttribute("download","shift-scheduler-storage-data.json"),n.click()})}function Xl(t){return C(this,null,function*(){const e="shift-scheduler-storage-data.json",n=yield Fl.writeFile({path:e,data:JSON.stringify(t),encoding:Dt.UTF8,directory:yt.Cache});Hl.share({title:e,url:n.uri,dialogTitle:"Storage data backup"})})}const Jl=`{
    "shifts": [],
    "startDate": "",
    "shiftRhythm": [],
    "currentTheme": "custom",
    "mode": "auto"
}`;let Z;function Un(){return C(this,null,function*(){Z=JSON.parse(localStorage.getItem("settings")||Jl)})}function Gl(t=null){return C(this,null,function*(){t&&(Z=t),Z.shiftRhythm.findIndex(e=>typeof e!="number")!==-1&&(console.error("Wrong data type in shift!"),Z.shiftRhythm=Z.shiftRhythm.filter(e=>typeof e=="number")),localStorage.setItem("settings",JSON.stringify(Z))})}function ut(t){if(Z)return Z.shifts.find(e=>e.id===t)}function Lt(){return/(android)/i.test(navigator.userAgent)}function Yn(t){if(!(Z!=null&&Z.startDate)||!(Z!=null&&Z.shiftRhythm.length))return null;if(typeof Z.startDate=="string"&&(Z.startDate=new Date(Z.startDate)),Z.startDate.getTime()>t.getTime()){const l=(Z.startDate.getTime()-t.getTime())/864e5;let o=Math.round(Z.shiftRhythm.length-l%Z.shiftRhythm.length);return o===Z.shiftRhythm.length&&(o=0),Z.shifts.find(r=>r.id===Z.shiftRhythm[o])||null}const e=Math.round((t.getTime()-Z.startDate.getTime())/(1e3*60*60*24));return Z.shifts.find(l=>l.id===Z.shiftRhythm[e%Z.shiftRhythm.length])||null}function qt(t,e,n){const l=t.slice();return l[21]=e[n],l[23]=n,l}const Kl=t=>({currentDate:t&128,currentTranslateX:t&8,transition:t&4,transitionend:t&158}),Wt=t=>({index:t[23],currentDate:new Date(t[7].getFullYear(),t[7].getMonth()+(t[23]-1)),currentTranslateX:t[3],transition:t[2],transitionend:t[14]});function Xt(t){let e;const n=t[13]["container-item"],l=ft(n,t,t[12],Wt);return{c(){l&&l.c()},m(o,s){l&&l.m(o,s),e=!0},p(o,s){l&&l.p&&(!e||s&4254)&&ht(l,n,o,o[12],e?dt(n,o[12],s,Kl):_t(o[12]),Wt)},i(o){e||(y(l,o),e=!0)},o(o){j(l,o),e=!1},d(o){l&&l.d(o)}}}function Ql(t){let e,n,l,o,s=ae(t[1]),r=[];for(let a=0;a<s.length;a+=1)r[a]=Xt(qt(t,s,a));const i=a=>j(r[a],1,1,()=>{r[a]=null});return{c(){e=g("div");for(let a=0;a<r.length;a+=1)r[a].c();_(e,"class","svelte-aqfi8w")},m(a,c){I(a,e,c);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(e,null);t[15](e),n=!0,l||(o=G(e,"click",t[16]),l=!0)},p(a,[c]){if(c&4766){s=ae(a[1]);let d;for(d=0;d<s.length;d+=1){const f=qt(a,s,d);r[d]?(r[d].p(f,c),y(r[d],1)):(r[d]=Xt(f),r[d].c(),y(r[d],1),r[d].m(e,null))}for(ge(),d=s.length;d<r.length;d+=1)i(d);me()}},i(a){if(!n){for(let c=0;c<s.length;c+=1)y(r[c]);n=!0}},o(a){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)j(r[c]);n=!1},d(a){a&&O(e),Pe(r,a),t[15](null),l=!1,o()}}}let Zl=1;function xl(t,e,n){let{$$slots:l={},$$scope:o}=e;const s=Le();function r(k){n(7,v=k)}function i(){n(7,v)}let a=[-1,0,1],c="none",d="-100%",f=null,p=!1,m=!1,h=null,v=new Date,P=0,N,E;function $(){E.children[Zl]&&(n(0,E.onpointerdown=L=>{m||p||(n(2,c="none"),P=L.clientX,N=E.getBoundingClientRect().width/5)},E),n(0,E.onpointerup=()=>{m||p&&(n(6,m=!0),n(2,c="transform 0.25s linear"),f==="left"?n(3,d="-200%"):f==="right"?n(3,d="0"):(n(3,d="-100%"),w()))},E),n(0,E.onpointercancel=E.onpointerup,E),n(0,E.onpointermove=L=>{if(!m){if(p&&L.buttons===1){const M=P-L.clientX;L.clientX<h&&Math.abs(M)>N?f==="right"?L.clientX<P&&n(4,f=null):n(4,f="left"):L.clientX>h&&Math.abs(M)>N&&(f==="left"?L.clientX>P&&n(4,f=null):n(4,f="right")),n(3,d=`calc(-100% + ${0-M}px)`),h=L.clientX;return}if(L.buttons!==1){p&&E.onpointerup(L);return}if(!p){(P-L.clientX>2||P-L.clientX<-2)&&n(5,p=!0);return}}},E))}function w(){n(4,f=null),h=null,n(5,p=!1),setTimeout(()=>n(6,m=!1),100)}const T=()=>{f==="left"?(n(1,a=[a[1],a[2],a[0]]),n(7,v=new Date(v.getFullYear(),v.getMonth()+1))):f==="right"&&(n(1,a=[a[2],a[0],a[1]]),n(7,v=new Date(v.getFullYear(),v.getMonth()-1))),n(2,c="none"),n(3,d="-100%"),w()};function F(k){_e[k?"unshift":"push"](()=>{E=k,n(0,E)})}const D=k=>C(this,null,function*(){var L;if(!(m||p)){for(const M of(k==null?void 0:k.path)||k.composedPath()||[])if((L=M.classList)!=null&&L.contains("day-content")){const B=parseInt(M.getAttribute("data-value"),10);isNaN(B)?s("click",null):s("click",new Date(v.getFullYear(),v.getMonth(),B));return}}});return t.$$set=k=>{"$$scope"in k&&n(12,o=k.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&E&&$()},[E,a,c,d,f,p,m,v,s,w,r,i,o,l,T,F,D]}class es extends se{constructor(e){super(),le(this,e,xl,Ql,te,{setCurrentDate:10,reload:11})}get setCurrentDate(){return this.$$.ctx[10]}get reload(){return this.$$.ctx[11]}}function Jt(t,e,n){const l=t.slice();return l[6]=e[n],l}function Gt(t){let e;return{c(){e=g("span"),e.textContent=`${t[6]}`,_(e,"class","svelte-dski4w"),he(e,"sunday",t[6]==="Sun"),he(e,"saturday",t[6]==="Sat")},m(n,l){I(n,e,l)},p:Q,d(n){n&&O(e)}}}function ts(t){let e,n,l,o,s,r,i,a=ae(t[1]),c=[];for(let h=0;h<a.length;h+=1)c[h]=Gt(Jt(t,a,h));const d=t[4].default,f=ft(d,t,t[3],null);let p=[{class:"calendar-item"},t[2]],m={};for(let h=0;h<p.length;h+=1)m=J(m,p[h]);return{c(){e=g("div"),n=g("div"),l=g("div");for(let h=0;h<c.length;h+=1)c[h].c();o=A(),f&&f.c(),_(l,"class","header svelte-dski4w"),_(n,"class","svelte-dski4w"),Ge(e,m),he(e,"svelte-dski4w",!0)},m(h,v){I(h,e,v),u(e,n),u(n,l);for(let P=0;P<c.length;P+=1)c[P]&&c[P].m(l,null);u(n,o),f&&f.m(n,null),s=!0,r||(i=G(e,"transitionend",t[5]),r=!0)},p(h,[v]){if(v&2){a=ae(h[1]);let P;for(P=0;P<a.length;P+=1){const N=Jt(h,a,P);c[P]?c[P].p(N,v):(c[P]=Gt(N),c[P].c(),c[P].m(l,null))}for(;P<c.length;P+=1)c[P].d(1);c.length=a.length}f&&f.p&&(!s||v&8)&&ht(f,d,h,h[3],s?dt(d,h[3],v,null):_t(h[3]),null),Ge(e,m=$e(p,[{class:"calendar-item"},v&4&&h[2]])),he(e,"svelte-dski4w",!0)},i(h){s||(y(f,h),s=!0)},o(h){j(f,h),s=!1},d(h){h&&O(e),Pe(c,h),f&&f.d(h),r=!1,i()}}}function ns(t,e,n){const l=[];let o=Je(e,l),{$$slots:s={},$$scope:r}=e;const i=Le();let a=["Sun","Mon","Tue","Wen","Thu","Fri","Sat"];const c=()=>{i("transitionend")};return t.$$set=d=>{e=J(J({},e),fe(d)),n(2,o=Je(e,l)),"$$scope"in d&&n(3,r=d.$$scope)},[i,a,o,r,s,c]}class ls extends se{constructor(e){super(),le(this,e,ns,ts,te,{})}}function Kt(t){let e,n,l=t[0].data.shift&&Qt(t),o=!!t[0].data.note&&Zt();return{c(){l&&l.c(),e=A(),o&&o.c(),n=Be()},m(s,r){l&&l.m(s,r),I(s,e,r),o&&o.m(s,r),I(s,n,r)},p(s,r){s[0].data.shift?l?l.p(s,r):(l=Qt(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),s[0].data.note?o||(o=Zt(),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(s){s&&(O(e),O(n)),l&&l.d(s),o&&o.d(s)}}}function Qt(t){let e,n,l,o,s=(t[0].data.shift.visible&&t[0].data.shift.shortName||"")+"",r;return{c(){e=g("div"),l=A(),o=g("span"),r=X(s),_(e,"class","background svelte-njlnuk"),_(e,"style",n=`background-color: ${t[0].data.shift.color};`),_(o,"class","shift svelte-njlnuk")},m(i,a){I(i,e,a),I(i,l,a),I(i,o,a),u(o,r)},p(i,a){a&1&&n!==(n=`background-color: ${i[0].data.shift.color};`)&&_(e,"style",n),a&1&&s!==(s=(i[0].data.shift.visible&&i[0].data.shift.shortName||"")+"")&&ve(r,s)},d(i){i&&(O(e),O(l),O(o))}}}function Zt(t){let e;return{c(){e=g("div"),_(e,"class","note-marker svelte-njlnuk")},m(n,l){I(n,e,l)},d(n){n&&O(e)}}}function ss(t){let e,n,l,o=t[0].date.getDate()+"",s,r,i=!!t[0].data&&Kt(t);return{c(){var a;e=g("div"),i&&i.c(),n=A(),l=g("span"),s=X(o),_(l,"class","date svelte-njlnuk"),he(l,"has-shift",!!((a=t[0].data)!=null&&a.shift)),_(e,"class","day-content svelte-njlnuk"),_(e,"role","button"),_(e,"tabindex","0"),_(e,"data-value",r=`${t[0].date.getMonth()===t[1]?t[0].date.getDate():NaN}`),he(e,"disabled",t[0].date.getMonth()!==t[1]),he(e,"today",t[0].date.getFullYear()===new Date().getFullYear()&&t[0].date.getMonth()===new Date().getMonth()&&t[0].date.getDate()===new Date().getDate())},m(a,c){I(a,e,c),i&&i.m(e,null),u(e,n),u(e,l),u(l,s)},p(a,[c]){var d;a[0].data?i?i.p(a,c):(i=Kt(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),c&1&&o!==(o=a[0].date.getDate()+"")&&ve(s,o),c&1&&he(l,"has-shift",!!((d=a[0].data)!=null&&d.shift)),c&3&&r!==(r=`${a[0].date.getMonth()===a[1]?a[0].date.getDate():NaN}`)&&_(e,"data-value",r),c&3&&he(e,"disabled",a[0].date.getMonth()!==a[1]),c&1&&he(e,"today",a[0].date.getFullYear()===new Date().getFullYear()&&a[0].date.getMonth()===new Date().getMonth()&&a[0].date.getDate()===new Date().getDate())},i:Q,o:Q,d(a){a&&O(e),i&&i.d()}}}function os(t,e,n){let{currentMonth:l}=e,{day:o}=e;function s(){return C(this,null,function*(){if(l!==o.date.getMonth()){n(0,o.data={shift:null,note:""},o);return}})}return t.$$set=r=>{"currentMonth"in r&&n(1,l=r.currentMonth),"day"in r&&n(0,o=r.day)},t.$$.update=()=>{t.$$.dirty&1&&o&&s()},[o,l]}class rs extends se{constructor(e){super(),le(this,e,os,ss,te,{currentMonth:1,day:0})}}function xt(t,e,n){const l=t.slice();return l[5]=e[n],l}function en(t){let e,n;return e=new rs({props:{currentMonth:t[0].getMonth(),day:t[5]}}),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},p(l,o){const s={};o&1&&(s.currentMonth=l[0].getMonth()),o&2&&(s.day=l[5]),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function is(t){let e,n,l,o=ae(t[1]),s=[];for(let i=0;i<o.length;i+=1)s[i]=en(xt(t,o,i));const r=i=>j(s[i],1,1,()=>{s[i]=null});return{c(){e=g("div"),n=g("div");for(let i=0;i<s.length;i+=1)s[i].c();_(n,"class","svelte-1ddnamw"),_(e,"class","container svelte-1ddnamw")},m(i,a){I(i,e,a),u(e,n);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(n,null);l=!0},p(i,[a]){if(a&3){o=ae(i[1]);let c;for(c=0;c<o.length;c+=1){const d=xt(i,o,c);s[c]?(s[c].p(d,a),y(s[c],1)):(s[c]=en(d),s[c].c(),y(s[c],1),s[c].m(n,null))}for(ge(),c=o.length;c<s.length;c+=1)r(c);me()}},i(i){if(!l){for(let a=0;a<o.length;a+=1)y(s[a]);l=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)j(s[a]);l=!1},d(i){i&&O(e),Pe(s,i)}}}function as(t,e,n){let{index:l}=e,{currentDate:o}=e;const s=Le();let r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(()=>({date:o,data:{shift:null,note:""}}));function i(){return C(this,null,function*(){var p,m;const a=o.getFullYear(),c=o.getMonth(),d=new Date(a,c,1).getDay(),f=yield ze(a,c);for(let h=0;h<r.length;h++){n(1,r[h].date=new Date(a,c,h+1-d),r);const v=`${r[h].date.getFullYear()}-${r[h].date.getMonth()}-${r[h].date.getDate()}`;n(1,r[h].data={shift:((p=f[v])==null?void 0:p.shift)||Yn(r[h].date),note:((m=f[v])==null?void 0:m.note)||""},r)}})}return t.$$set=a=>{"index"in a&&n(2,l=a.index),"currentDate"in a&&n(0,o=a.currentDate)},t.$$.update=()=>{t.$$.dirty&1&&o&&i(),t.$$.dirty&5&&l===1&&o&&s("currentdatechange",o)},[o,r,l]}class cs extends se{constructor(e){super(),le(this,e,as,is,te,{index:2,currentDate:0})}}function us(t){let e,n;return e=new cs({props:{index:t[12],currentDate:t[11]}}),e.$on("currentdatechange",t[4]),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},p(l,o){const s={};o&4096&&(s.index=l[12]),o&2048&&(s.currentDate=l[11]),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function fs(t){let e,n;function l(){return t[5](t[8])}return e=new ls({props:{slot:"container-item",style:`
            transform: translateX(${t[10]});
            transition: ${t[9]};
        `,$$slots:{default:[us]},$$scope:{ctx:t}}}),e.$on("transitionend",l),{c(){q(e.$$.fragment)},m(o,s){U(e,o,s),n=!0},p(o,s){t=o;const r={};s&1536&&(r.style=`
            transform: translateX(${t[10]});
            transition: ${t[9]};
        `),s&14336&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function ds(t){let e,n,l={$$slots:{"container-item":[fs,({transitionend:o,transition:s,currentTranslateX:r,currentDate:i,index:a})=>({8:o,9:s,10:r,11:i,12:a}),({transitionend:o,transition:s,currentTranslateX:r,currentDate:i,index:a})=>(o?256:0)|(s?512:0)|(r?1024:0)|(i?2048:0)|(a?4096:0)]},$$scope:{ctx:t}};return e=new es({props:l}),t[6](e),e.$on("click",t[7]),{c(){q(e.$$.fragment)},m(o,s){U(e,o,s),n=!0},p(o,[s]){const r={};s&16128&&(r.$$scope={dirty:s,ctx:o}),e.$set(r)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){t[6](null),Y(e,o)}}}function hs(t,e,n){const l=Le();function o(f){r.setCurrentDate(f)}function s(){r.reload()}let r;const i=f=>{l("currentdatechange",f.detail)},a=f=>f();function c(f){_e[f?"unshift":"push"](()=>{r=f,n(0,r)})}return[r,l,o,s,i,a,c,f=>{l("click",f.detail)}]}let _s=class extends se{constructor(e){super(),le(this,e,hs,ds,te,{set:2,reload:3})}get set(){return this.$$.ctx[2]}get reload(){return this.$$.ctx[3]}};function gs(t){let e;return{c(){e=De("path"),_(e,"d","M133.1 128l23.6 290.7c0 16.2 13.1 29.3 29.3 29.3h141c16.2 0 29.3-13.1 29.3-29.3L379.6 128H133.1zm61.6 265L188 160h18.5l6.9 233h-18.7zm70.3 0h-18V160h18v233zm52.3 0h-18.6l6.8-233H324l-6.7 233zM364 92h-36l-26.3-23c-3.7-3.2-8.4-5-13.2-5h-64.8c-4.9 0-9.7 1.8-13.4 5L184 92h-36c-17.6 0-30 8.4-30 26h276c0-17.6-12.4-26-30-26z")},m(n,l){I(n,e,l)},p:Q,d(n){n&&O(e)}}}function ms(t){let e,n;const l=[{viewBox:"0 0 512 512"},t[0]];let o={$$slots:{default:[gs]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=J(o,l[s]);return e=new Oe({props:o}),{c(){q(e.$$.fragment)},m(s,r){U(e,s,r),n=!0},p(s,[r]){const i=r&1?$e(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function ps(t,e,n){return t.$$set=l=>{n(0,e=J(J({},e),fe(l)))},e=fe(e),[e]}class Vn extends se{constructor(e){super(),le(this,e,ps,ms,te,{})}}function bs(t){let e,n,l;return{c(){e=De("path"),n=A(),l=De("path"),_(e,"d","M227.8 300.2c-5.1-5.1-5.1-13.3 0-18.4l133.7-133.7c-5.3-2.6-11.2-4.1-17.5-4.1H88c-22 0-40 18-40 40v224c0 22 18 40 40 40h256c22 0 40-18 40-40V184c0-6.3-1.5-12.2-4.1-17.5L246.2 300.2c-5.1 5.1-13.3 5.1-18.4 0z"),_(l,"d","M459.5 68.5C457 66 453 64 449 64h-97c-7.2-.1-13.1 5.7-13.1 12.9-.1 7.2 5.7 13.1 12.9 13.1l67.3.5-57.6 57.6c8 3.9 14.5 10.4 18.4 18.4l57.6-57.6.5 67.3c.1 7.2 5.9 13 13.1 12.9 7.2-.1 13-5.9 12.9-13.1V78c0-3.5-2-7-4.5-9.5z")},m(o,s){I(o,e,s),I(o,n,s),I(o,l,s)},p:Q,d(o){o&&(O(e),O(n),O(l))}}}function vs(t){let e,n;const l=[{viewBox:"0 0 512 512"},t[0]];let o={$$slots:{default:[bs]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=J(o,l[s]);return e=new Oe({props:o}),{c(){q(e.$$.fragment)},m(s,r){U(e,s,r),n=!0},p(s,[r]){const i=r&1?$e(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function $s(t,e,n){return t.$$set=l=>{n(0,e=J(J({},e),fe(l)))},e=fe(e),[e]}class ws extends se{constructor(e){super(),le(this,e,$s,vs,te,{})}}function ks(t){let e;return{c(){e=De("path"),_(e,"d","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z")},m(n,l){I(n,e,l)},p:Q,d(n){n&&O(e)}}}function ys(t){let e,n;const l=[{viewBox:"0 0 384 512"},t[0]];let o={$$slots:{default:[ks]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=J(o,l[s]);return e=new Oe({props:o}),{c(){q(e.$$.fragment)},m(s,r){U(e,s,r),n=!0},p(s,[r]){const i=r&1?$e(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function Ds(t,e,n){return t.$$set=l=>{n(0,e=J(J({},e),fe(l)))},e=fe(e),[e]}class Ss extends se{constructor(e){super(),le(this,e,Ds,ys,te,{})}}function Cs(t){let e;return{c(){e=De("path"),_(e,"d","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z")},m(n,l){I(n,e,l)},p:Q,d(n){n&&O(e)}}}function Ps(t){let e,n;const l=[{viewBox:"0 0 384 512"},t[0]];let o={$$slots:{default:[Cs]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=J(o,l[s]);return e=new Oe({props:o}),{c(){q(e.$$.fragment)},m(s,r){U(e,s,r),n=!0},p(s,[r]){const i=r&1?$e(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function Es(t,e,n){return t.$$set=l=>{n(0,e=J(J({},e),fe(l)))},e=fe(e),[e]}class Ms extends se{constructor(e){super(),le(this,e,Es,Ps,te,{})}}function tn(t,e,n){const l=t.slice();return l[7]=e[n],l[18]=n,l}function nn(t){let e,n,l,o=(t[2]+1).toString().padStart(2,"0")+"",s,r,i=t[3].toString().padStart(2,"0")+"",a;return{c(){e=g("header"),n=X(t[1]),l=X(" / "),s=X(o),r=X(`\r
                / `),a=X(i)},m(c,d){I(c,e,d),u(e,n),u(e,l),u(e,s),u(e,r),u(e,a)},p(c,d){d&2&&ve(n,c[1]),d&4&&o!==(o=(c[2]+1).toString().padStart(2,"0")+"")&&ve(s,o),d&8&&i!==(i=c[3].toString().padStart(2,"0")+"")&&ve(a,i)},d(c){c&&O(e)}}}function ln(t){let e,n=t[7].name+"",l,o;return{c(){e=g("option"),l=X(n),e.__value=t[18].toString(),re(e,e.__value),e.selected=o=t[6]===t[18].toString()},m(s,r){I(s,e,r),u(e,l)},p(s,r){r&64&&o!==(o=s[6]===s[18].toString())&&(e.selected=o)},d(s){s&&O(e)}}}function js(t){var k;let e,n,l,o,s,r,i=(((k=t[4])==null?void 0:k.name)||"")+"",a,c,d,f,p,m,h,v,P,N,E,$,w,T=!!t[3]&&nn(t),F=ae(t[9].shifts),D=[];for(let L=0;L<F.length;L+=1)D[L]=ln(tn(t,F,L));return{c(){e=g("dialog"),n=g("article"),T&&T.c(),l=A(),o=g("select"),s=g("option"),r=X("(Default) "),a=X(i);for(let L=0;L<D.length;L+=1)D[L].c();d=A(),f=g("label"),p=X(`Note\r
            `),m=g("textarea"),h=A(),v=g("footer"),P=g("button"),P.textContent="Cancel",N=A(),E=g("button"),E.textContent="Confirm",s.__value="-1",re(s,s.__value),s.selected=c=t[6]==="-1",t[6]===void 0&&Qe(()=>t[12].call(o)),_(m,"name","note"),_(m,"cols","30"),_(m,"rows","10"),_(m,"class","svelte-1nsz3pc"),_(f,"for","note"),_(f,"class","svelte-1nsz3pc"),_(P,"class","contrast")},m(L,M){I(L,e,M),u(e,n),T&&T.m(n,null),u(n,l),u(n,o),u(o,s),u(s,r),u(s,a);for(let B=0;B<D.length;B+=1)D[B]&&D[B].m(o,null);Ke(o,t[6],!0),u(n,d),u(n,f),u(f,p),u(f,m),re(m,t[5]),u(n,h),u(n,v),u(v,P),u(v,N),u(v,E),t[16](e),$||(w=[G(o,"change",t[12]),G(m,"input",t[13]),G(P,"click",t[14]),G(E,"click",t[15])],$=!0)},p(L,[M]){var B;if(L[3]?T?T.p(L,M):(T=nn(L),T.c(),T.m(n,l)):T&&(T.d(1),T=null),M&16&&i!==(i=(((B=L[4])==null?void 0:B.name)||"")+"")&&ve(a,i),M&64&&c!==(c=L[6]==="-1")&&(s.selected=c),M&576){F=ae(L[9].shifts);let S;for(S=0;S<F.length;S+=1){const K=tn(L,F,S);D[S]?D[S].p(K,M):(D[S]=ln(K),D[S].c(),D[S].m(o,null))}for(;S<D.length;S+=1)D[S].d(1);D.length=F.length}M&64&&Ke(o,L[6]),M&32&&re(m,L[5])},i:Q,o:Q,d(L){L&&O(e),T&&T.d(),Pe(D,L),t[16](null),$=!1,Ee(w)}}}function Ls(t,e,n){const l=Le();let o,s,r,i,a,c,d,f="-1",p=JSON.parse(localStorage.getItem("settings")||'{ "shifts": [], "startDate": "", "shiftRhythm": []}');function m(w,T,F){return C(this,null,function*(){n(1,s=w),n(2,r=T),n(3,i=F);const D=(yield ze(s,r))[`${s}-${r}-${i}`];n(4,a=Yn(new Date(s,r,i))),n(7,c=(D==null?void 0:D.shift)||null),c?n(6,f=p.shifts.findIndex(k=>k.name===(c==null?void 0:c.name)).toString()):n(6,f="-1"),n(5,d=(D==null?void 0:D.note)||""),o.show()})}function h(){return C(this,null,function*(){o.close()})}function v(){f=Pt(this),n(6,f)}function P(){d=this.value,n(5,d)}const N=()=>C(this,null,function*(){return l("cancel")}),E=()=>l("submit",{date:{year:s,month:r,date:i},shift:p.shifts.find((w,T)=>T.toString()===f)||null,note:d});function $(w){_e[w?"unshift":"push"](()=>{o=w,n(0,o)})}return[o,s,r,i,a,d,f,c,l,p,m,h,v,P,N,E,$]}class Os extends se{constructor(e){super(),le(this,e,Ls,js,te,{open:10,close:11})}get open(){return this.$$.ctx[10]}get close(){return this.$$.ctx[11]}}function Ts(t){let e,n,l,o,s,r,i,a,c,d,f,p,m,h,v,P,N,E,$,w,T,F,D,k;return{c(){e=g("dialog"),n=g("article"),l=g("label"),o=X(`Shift Name\r
            `),s=g("input"),r=A(),i=g("label"),a=X(`Short Shift Name\r
            `),c=g("input"),d=A(),f=g("label"),p=g("input"),m=X(`\r
            Hidden Shift (Not visible in calendar)`),h=A(),v=g("label"),P=X(`Color\r
            `),N=g("input"),E=A(),$=g("footer"),w=g("button"),w.textContent="Cancel",T=A(),F=g("button"),F.textContent="Confirm",_(s,"type","text"),_(s,"name","name"),_(l,"for","name"),_(l,"class","svelte-1kp7uzd"),_(c,"type","text"),_(c,"name","shortName"),_(i,"for","shortName"),_(i,"class","svelte-1kp7uzd"),_(p,"type","checkbox"),_(p,"name","hidden"),_(f,"for","hidden"),_(f,"class","svelte-1kp7uzd"),_(N,"type","color"),_(N,"name","color"),_(v,"for","color"),_(v,"class","svelte-1kp7uzd"),_(w,"class","contrast"),_($,"class","svelte-1kp7uzd"),_(n,"class","svelte-1kp7uzd"),_(e,"class","svelte-1kp7uzd")},m(L,M){I(L,e,M),u(e,n),u(n,l),u(l,o),u(l,s),re(s,t[1]),u(n,r),u(n,i),u(i,a),u(i,c),re(c,t[2]),u(n,d),u(n,f),u(f,p),p.checked=t[3],u(f,m),u(n,h),u(n,v),u(v,P),u(v,N),re(N,t[4]),u(n,E),u(n,$),u($,w),u($,T),u($,F),t[14](e),D||(k=[G(s,"input",t[8]),G(c,"input",t[9]),G(p,"change",t[10]),G(N,"input",t[11]),G(w,"click",t[12]),G(F,"click",t[13])],D=!0)},p(L,[M]){M&2&&s.value!==L[1]&&re(s,L[1]),M&4&&c.value!==L[2]&&re(c,L[2]),M&8&&(p.checked=L[3]),M&16&&re(N,L[4])},i:Q,o:Q,d(L){L&&O(e),t[14](null),D=!1,Ee(k)}}}function Is(t,e,n){const l=Le();let o,s="",r="",i=!1,a;function c(){return C(this,null,function*(){o.show()})}function d(){return C(this,null,function*(){o.close()})}function f(){s=this.value,n(1,s)}function p(){r=this.value,n(2,r)}function m(){i=this.checked,n(3,i)}function h(){a=this.value,n(4,a)}const v=()=>C(this,null,function*(){return l("cancel")}),P=()=>C(this,null,function*(){l("submit",{name:s,shortName:r||s[0]||"",color:a,visible:!i})});function N(E){_e[E?"unshift":"push"](()=>{o=E,n(0,o)})}return[o,s,r,i,a,l,c,d,f,p,m,h,v,P,N]}class As extends se{constructor(e){super(),le(this,e,Is,Ts,te,{open:6,close:7})}get open(){return this.$$.ctx[6]}get close(){return this.$$.ctx[7]}}function Ns(t){let e,n,l,o,s,r,i,a,c,d=(t[1]||t[0][0])+"",f,p,m;return{c(){e=g("div"),n=g("div"),o=A(),s=g("span"),r=X(t[0]),i=g("br"),a=A(),c=g("span"),f=X(d),_(n,"class","background svelte-1e8lxbz"),_(n,"style",l=`background-color: ${t[3]||"transparent"};`),_(s,"class","name svelte-1e8lxbz"),_(c,"class","short-name svelte-1e8lxbz"),he(c,"visible",t[2]),_(e,"class","card svelte-1e8lxbz"),_(e,"role","button"),_(e,"tabindex","0"),he(e,"active",t[4])},m(h,v){I(h,e,v),u(e,n),u(e,o),u(e,s),u(s,r),u(e,i),u(e,a),u(e,c),u(c,f),p||(m=G(e,"click",t[6]),p=!0)},p(h,[v]){v&8&&l!==(l=`background-color: ${h[3]||"transparent"};`)&&_(n,"style",l),v&1&&ve(r,h[0]),v&3&&d!==(d=(h[1]||h[0][0])+"")&&ve(f,d),v&4&&he(c,"visible",h[2]),v&16&&he(e,"active",h[4])},i:Q,o:Q,d(h){h&&O(e),p=!1,m()}}}function Rs(t,e,n){let{id:l}=e,{name:o}=e,{shortName:s=""}=e,{visible:r=!0}=e,{color:i="var(--color)"}=e,{active:a=!1}=e;function c(d){Et.call(this,t,d)}return t.$$set=d=>{"id"in d&&n(5,l=d.id),"name"in d&&n(0,o=d.name),"shortName"in d&&n(1,s=d.shortName),"visible"in d&&n(2,r=d.visible),"color"in d&&n(3,i=d.color),"active"in d&&n(4,a=d.active)},[o,s,r,i,a,l,c]}class ot extends se{constructor(e){super(),le(this,e,Rs,Ns,te,{id:5,name:0,shortName:1,visible:2,color:3,active:4})}}function Bs(t){let e;return{c(){e=De("path"),_(e,"d","M368.5 240H272v-96.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-96.5c-8.8 0-16 7.2-16 16 0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7H240v96.5c0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7 8.8 0 16-7.2 16-16V272h96.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z")},m(n,l){I(n,e,l)},p:Q,d(n){n&&O(e)}}}function zs(t){let e,n;const l=[{viewBox:"0 0 512 512"},t[0]];let o={$$slots:{default:[Bs]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=J(o,l[s]);return e=new Oe({props:o}),{c(){q(e.$$.fragment)},m(s,r){U(e,s,r),n=!0},p(s,[r]){const i=r&1?$e(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function Fs(t,e,n){return t.$$set=l=>{n(0,e=J(J({},e),fe(l)))},e=fe(e),[e]}class Hs extends se{constructor(e){super(),le(this,e,Fs,zs,te,{})}}function Us(t){let e,n,l,o,s,r,i;return o=new Hs({}),{c(){e=g("div"),n=g("button"),l=g("span"),q(o.$$.fragment),_(l,"class","svelte-qd92l5"),_(n,"class","outline secondary svelte-qd92l5"),_(e,"class","card svelte-qd92l5")},m(a,c){I(a,e,c),u(e,n),u(n,l),U(o,l,null),s=!0,r||(i=G(n,"click",t[0]),r=!0)},p:Q,i(a){s||(y(o.$$.fragment,a),s=!0)},o(a){j(o.$$.fragment,a),s=!1},d(a){a&&O(e),Y(o),r=!1,i()}}}function Ys(t){function e(n){Et.call(this,t,n)}return[e]}class Vs extends se{constructor(e){super(),le(this,e,Ys,Us,te,{})}}function sn(t,e,n){const l=t.slice();return l[16]=e[n],l}function on(t,e,n){const l=t.slice();return l[19]=e[n],l[21]=n,l}function rn(t){let e,n;const l=[ut(t[19])];function o(){return t[10](t[21])}let s={};for(let r=0;r<l.length;r+=1)s=J(s,l[r]);return e=new ot({props:s}),e.$on("click",o),{c(){q(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},p(r,i){t=r;const a=i&16?$e(l,[Se(ut(t[19]))]):{};e.$set(a)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function an(t){let e=!!ut(t[19]),n,l,o=e&&rn(t);return{c(){o&&o.c(),n=Be()},m(s,r){o&&o.m(s,r),I(s,n,r),l=!0},p(s,r){r&16&&(e=!!ut(s[19])),e?o?(o.p(s,r),r&16&&y(o,1)):(o=rn(s),o.c(),y(o,1),o.m(n.parentNode,n)):o&&(ge(),j(o,1,1,()=>{o=null}),me())},i(s){l||(y(o),l=!0)},o(s){j(o),l=!1},d(s){s&&O(n),o&&o.d(s)}}}function cn(t){let e,n,l,o;const s=[t[16]];function r(){return t[11](t[16])}let i={};for(let a=0;a<s.length;a+=1)i=J(i,s[a]);return n=new ot({props:i}),n.$on("click",r),{c(){e=g("div"),q(n.$$.fragment),l=A(),_(e,"class","container svelte-jvavll")},m(a,c){I(a,e,c),U(n,e,null),u(e,l),o=!0},p(a,c){t=a;const d=c&8?$e(s,[Se(t[16])]):{};n.$set(d)},i(a){o||(y(n.$$.fragment,a),o=!0)},o(a){j(n.$$.fragment,a),o=!1},d(a){a&&O(e),Y(n)}}}function qs(t){let e,n,l,o,s,r,i,a,c,d,f,p,m,h,v,P,N,E,$,w=ae(t[4]),T=[];for(let M=0;M<w.length;M+=1)T[M]=an(on(t,w,M));const F=M=>j(T[M],1,1,()=>{T[M]=null});let D=ae(t[3]),k=[];for(let M=0;M<D.length;M+=1)k[M]=cn(sn(t,D,M));const L=M=>j(k[M],1,1,()=>{k[M]=null});return{c(){e=g("dialog"),n=g("article"),l=g("header"),l.textContent="Shift Rhythm",o=A(),s=g("div"),r=g("ul");for(let M=0;M<T.length;M+=1)T[M].c();i=A(),a=g("div"),c=A(),d=g("div");for(let M=0;M<k.length;M+=1)k[M].c();p=A(),m=g("footer"),h=g("button"),h.textContent="Cancel",v=A(),P=g("button"),P.textContent="Confirm",_(r,"class","svelte-jvavll"),_(a,"class","spacer svelte-jvavll"),_(d,"class","shifts-container svelte-jvavll"),_(s,"class","content svelte-jvavll"),_(s,"style",f=`
                height: calc(100% - ${t[5]}px);
            `),_(h,"class","contrast"),_(P,"type","submit"),_(n,"class","svelte-jvavll")},m(M,B){I(M,e,B),u(e,n),u(n,l),t[9](l),u(n,o),u(n,s),u(s,r);for(let S=0;S<T.length;S+=1)T[S]&&T[S].m(r,null);u(s,i),u(s,a),u(s,c),u(s,d);for(let S=0;S<k.length;S+=1)k[S]&&k[S].m(d,null);u(n,p),u(n,m),u(m,h),u(m,v),u(m,P),t[14](m),t[15](e),N=!0,E||($=[G(h,"click",t[12]),G(P,"click",t[13])],E=!0)},p(M,[B]){if(B&16){w=ae(M[4]);let S;for(S=0;S<w.length;S+=1){const K=on(M,w,S);T[S]?(T[S].p(K,B),y(T[S],1)):(T[S]=an(K),T[S].c(),y(T[S],1),T[S].m(r,null))}for(ge(),S=w.length;S<T.length;S+=1)F(S);me()}if(B&24){D=ae(M[3]);let S;for(S=0;S<D.length;S+=1){const K=sn(M,D,S);k[S]?(k[S].p(K,B),y(k[S],1)):(k[S]=cn(K),k[S].c(),y(k[S],1),k[S].m(d,null))}for(ge(),S=D.length;S<k.length;S+=1)L(S);me()}(!N||B&32&&f!==(f=`
                height: calc(100% - ${M[5]}px);
            `))&&_(s,"style",f)},i(M){if(!N){for(let B=0;B<w.length;B+=1)y(T[B]);for(let B=0;B<D.length;B+=1)y(k[B]);N=!0}},o(M){T=T.filter(Boolean);for(let B=0;B<T.length;B+=1)j(T[B]);k=k.filter(Boolean);for(let B=0;B<k.length;B+=1)j(k[B]);N=!1},d(M){M&&O(e),t[9](null),Pe(T,M),Pe(k,M),t[14](null),t[15](null),E=!1,Ee($)}}}function Ws(t,e,n){const l=Le();let o,s,r,i=[],a=[],c=0;function d($,w){return C(this,null,function*(){n(3,i=$),n(4,a=w),o.show(),n(5,c=r.getBoundingClientRect().height+s.getBoundingClientRect().height)})}function f(){return C(this,null,function*(){o.close()})}function p($){_e[$?"unshift":"push"](()=>{r=$,n(2,r)})}const m=$=>{n(4,a=[...a.slice(0,$),...a.slice($+1)])},h=$=>{n(4,a=[...a,$.id])},v=()=>C(this,null,function*(){return l("cancel")}),P=()=>l("submit",a);function N($){_e[$?"unshift":"push"](()=>{s=$,n(1,s)})}function E($){_e[$?"unshift":"push"](()=>{o=$,n(0,o)})}return[o,s,r,i,a,c,l,d,f,p,m,h,v,P,N,E]}class Xs extends se{constructor(e){super(),le(this,e,Ws,qs,te,{open:7,close:8})}get open(){return this.$$.ctx[7]}get close(){return this.$$.ctx[8]}}function un(t,e,n){const l=t.slice();return l[17]=e[n],l[19]=n,l}function fn(t){let e,n,l,o,s,r,i,a,c,d,f,p,m,h,v,P,N,E,$,w,T,F,D,k,L,M,B,S=ae(t[0]),K=[];for(let V=0;V<S.length;V+=1)K[V]=dn(un(t,S,V));return{c(){e=g("article"),n=g("select");for(let V=0;V<K.length;V+=1)K[V].c();l=A(),o=g("label"),s=X(`Name\r
                `),r=g("input"),i=A(),a=g("label"),c=X(`ShortName\r
                `),d=g("input"),f=A(),p=g("label"),m=X(`Color\r
                `),h=g("input"),v=A(),P=g("label"),N=g("input"),E=X(`\r
                Hidden Shift (Not visible in calendar)`),$=A(),w=g("footer"),T=g("button"),T.textContent="Cancel",F=A(),D=g("button"),D.textContent="Delete",k=A(),L=g("button"),L.textContent="Confirm",_(n,"name","shiftsToEdit"),_(n,"class","svelte-azf1tm"),t[3]===void 0&&Qe(()=>t[7].call(n)),_(r,"type","text"),_(r,"name","name"),_(o,"for","name"),_(o,"class","svelte-azf1tm"),_(d,"type","text"),_(d,"name","shortName"),_(a,"for","shortName"),_(a,"class","svelte-azf1tm"),_(h,"type","color"),_(h,"name","color"),_(p,"for","color"),_(p,"class","svelte-azf1tm"),_(N,"type","checkbox"),_(N,"name","hidden"),_(P,"for","hidden"),_(P,"class","svelte-azf1tm"),_(T,"class","contrast"),_(D,"class","secondary"),_(w,"class","svelte-azf1tm"),_(e,"class","svelte-azf1tm")},m(V,ce){I(V,e,ce),u(e,n);for(let W=0;W<K.length;W+=1)K[W]&&K[W].m(n,null);Ke(n,t[3],!0),u(e,l),u(e,o),u(o,s),u(o,r),re(r,t[0][parseInt(t[3])].name),u(e,i),u(e,a),u(a,c),u(a,d),re(d,t[0][parseInt(t[3])].shortName),u(e,f),u(e,p),u(p,m),u(p,h),re(h,t[0][parseInt(t[3])].color),u(e,v),u(e,P),u(P,N),N.checked=t[1],u(P,E),u(e,$),u(e,w),u(w,T),u(w,F),u(w,D),u(w,k),u(w,L),M||(B=[G(n,"change",t[7]),G(r,"input",t[8]),G(d,"input",t[9]),G(h,"input",t[10]),G(N,"change",t[11]),G(T,"click",t[12]),G(D,"click",t[13]),G(L,"click",t[14])],M=!0)},p(V,ce){if(ce&9){S=ae(V[0]);let W;for(W=0;W<S.length;W+=1){const pe=un(V,S,W);K[W]?K[W].p(pe,ce):(K[W]=dn(pe),K[W].c(),K[W].m(n,null))}for(;W<K.length;W+=1)K[W].d(1);K.length=S.length}ce&8&&Ke(n,V[3]),ce&9&&r.value!==V[0][parseInt(V[3])].name&&re(r,V[0][parseInt(V[3])].name),ce&9&&d.value!==V[0][parseInt(V[3])].shortName&&re(d,V[0][parseInt(V[3])].shortName),ce&9&&re(h,V[0][parseInt(V[3])].color),ce&2&&(N.checked=V[1])},d(V){V&&O(e),Pe(K,V),M=!1,Ee(B)}}}function dn(t){let e,n=t[17].name+"",l,o;return{c(){e=g("option"),l=X(n),e.__value=t[19].toString(),re(e,e.__value),e.selected=o=parseInt(t[3])===t[19]},m(s,r){I(s,e,r),u(e,l)},p(s,r){r&1&&n!==(n=s[17].name+"")&&ve(l,n),r&8&&o!==(o=parseInt(s[3])===s[19])&&(e.selected=o)},d(s){s&&O(e)}}}function Js(t){let e,n=t[0].length&&fn(t);return{c(){e=g("dialog"),n&&n.c()},m(l,o){I(l,e,o),n&&n.m(e,null),t[15](e)},p(l,[o]){l[0].length?n?n.p(l,o):(n=fn(l),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:Q,o:Q,d(l){l&&O(e),n&&n.d(),t[15](null)}}}function Gs(t,e,n){const l=Le();let o,s=[],r="0",i=!1;function a(){n(0,s[parseInt(r)].visible=!i,s)}function c(w,T){return C(this,null,function*(){n(0,s=w),n(3,r=T),o.show()})}function d(){return C(this,null,function*(){o.close()})}function f(){r=Pt(this),n(3,r)}function p(){s[parseInt(r)].name=this.value,n(0,s)}function m(){s[parseInt(r)].shortName=this.value,n(0,s)}function h(){s[parseInt(r)].color=this.value,n(0,s)}function v(){i=this.checked,n(1,i)}const P=()=>C(this,null,function*(){return l("cancel")}),N=()=>{window.confirm(`Delete "${s[parseInt(r)].name}"?`)&&(s.length<=1&&l("submit",[]),n(0,s=[...s.slice(0,parseInt(r)),...s.slice(parseInt(r)+1)]),n(3,r="0"))},E=()=>l("submit",s);function $(w){_e[w?"unshift":"push"](()=>{o=w,n(2,o)})}return t.$$.update=()=>{t.$$.dirty&3&&s.length&&typeof i=="boolean"&&a()},[s,i,o,r,l,c,d,f,p,m,h,v,P,N,E,$]}class Ks extends se{constructor(e){super(),le(this,e,Gs,Js,te,{open:5,close:6})}get open(){return this.$$.ctx[5]}get close(){return this.$$.ctx[6]}}function Qs(t){let e;return{c(){e=De("path"),_(e,"d","M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z")},m(n,l){I(n,e,l)},p:Q,d(n){n&&O(e)}}}function Zs(t){let e,n;const l=[{viewBox:"0 0 512 512"},t[0]];let o={$$slots:{default:[Qs]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)o=J(o,l[s]);return e=new Oe({props:o}),{c(){q(e.$$.fragment)},m(s,r){U(e,s,r),n=!0},p(s,[r]){const i=r&1?$e(l,[l[0],Se(s[0])]):{};r&2&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function xs(t,e,n){return t.$$set=l=>{n(0,e=J(J({},e),fe(l)))},e=fe(e),[e]}class eo extends se{constructor(e){super(),le(this,e,xs,Zs,te,{})}}function to(t){let e,n,l,o,s,r;const i=t[5].default,a=ft(i,t,t[4],null);let c=[{class:n=`${t[1]} outline icon-button ${t[0]}`},{style:l=`
        margin: ${t[2]!==void 0?t[2]:"var(--spacing)"};
    `},t[3]],d={};for(let f=0;f<c.length;f+=1)d=J(d,c[f]);return{c(){e=g("button"),a&&a.c(),Ge(e,d),he(e,"svelte-85aqty",!0)},m(f,p){I(f,e,p),a&&a.m(e,null),e.autofocus&&e.focus(),o=!0,s||(r=G(e,"click",t[6]),s=!0)},p(f,[p]){a&&a.p&&(!o||p&16)&&ht(a,i,f,f[4],o?dt(i,f[4],p,null):_t(f[4]),null),Ge(e,d=$e(c,[(!o||p&3&&n!==(n=`${f[1]} outline icon-button ${f[0]}`))&&{class:n},(!o||p&4&&l!==(l=`
        margin: ${f[2]!==void 0?f[2]:"var(--spacing)"};
    `))&&{style:l},p&8&&f[3]])),he(e,"svelte-85aqty",!0)},i(f){o||(y(a,f),o=!0)},o(f){j(a,f),o=!1},d(f){f&&O(e),a&&a.d(f),s=!1,r()}}}function no(t,e,n){const l=["class","variant","margin"];let o=Je(e,l),{$$slots:s={},$$scope:r}=e,{class:i=""}=e,{variant:a="contrast"}=e,{margin:c=void 0}=e;function d(f){Et.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),fe(f)),n(3,o=Je(e,l)),"class"in f&&n(0,i=f.class),"variant"in f&&n(1,a=f.variant),"margin"in f&&n(2,c=f.margin),"$$scope"in f&&n(4,r=f.$$scope)},[i,a,c,o,r,s,d]}class Ie extends se{constructor(e){super(),le(this,e,no,to,te,{class:0,variant:1,margin:2})}}function hn(t,e,n){const l=t.slice();return l[12]=e[n],l}function lo(t){let e,n;return e=new eo({}),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function _n(t){let e,n,l=ae(t[3].sort(t[9])),o=[];for(let r=0;r<l.length;r+=1)o[r]=gn(hn(t,l,r));const s=r=>j(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=Be()},m(r,i){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(r,i);I(r,e,i),n=!0},p(r,i){if(i&46){l=ae(r[3].sort(r[9]));let a;for(a=0;a<l.length;a+=1){const c=hn(r,l,a);o[a]?(o[a].p(c,i),y(o[a],1)):(o[a]=gn(c),o[a].c(),y(o[a],1),o[a].m(e.parentNode,e))}for(ge(),a=l.length;a<o.length;a+=1)s(a);me()}},i(r){if(!n){for(let i=0;i<l.length;i+=1)y(o[i]);n=!0}},o(r){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)j(o[i]);n=!1},d(r){r&&O(e),Pe(o,r)}}}function so(t){let e,n;return e=new Vn({}),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function gn(t){var F;let e,n,l,o=t[12].key.split("-",3)[2]+"",s,r,i,a,c=(((F=t[12].shift)==null?void 0:F.name)||null)+"",d,f,p,m,h=(t[12].note||"")+"",v,P,N,E,$,w;function T(){return t[10](t[12])}return E=new Ie({props:{$$slots:{default:[so]},$$scope:{ctx:t}}}),E.$on("click",T),{c(){e=g("tr"),n=g("td"),l=g("code"),s=X(o),r=A(),i=g("td"),a=g("code"),d=X(c),f=A(),p=g("td"),m=g("code"),v=X(h),P=A(),N=g("td"),q(E.$$.fragment),$=A(),_(n,"class","key svelte-g6isex"),_(i,"class","shift svelte-g6isex"),_(p,"class","note svelte-g6isex"),_(N,"class","delete svelte-g6isex")},m(D,k){I(D,e,k),u(e,n),u(n,l),u(l,s),u(e,r),u(e,i),u(i,a),u(a,d),u(e,f),u(e,p),u(p,m),u(m,v),u(e,P),u(e,N),U(E,N,null),u(e,$),w=!0},p(D,k){var M;t=D,(!w||k&8)&&o!==(o=t[12].key.split("-",3)[2]+"")&&ve(s,o),(!w||k&8)&&c!==(c=(((M=t[12].shift)==null?void 0:M.name)||null)+"")&&ve(d,c),(!w||k&8)&&h!==(h=(t[12].note||"")+"")&&ve(v,h);const L={};k&32768&&(L.$$scope={dirty:k,ctx:t}),E.$set(L)},i(D){w||(y(E.$$.fragment,D),w=!0)},o(D){j(E.$$.fragment,D),w=!1},d(D){D&&O(e),Y(E)}}}function oo(t){let e,n,l,o,s,r,i=(t[2]+1).toString().padStart(2,"0")+"",a,c,d,f,p,m,h,v,P,N;d=new Ie({props:{style:`
                    float: right;
                `,$$slots:{default:[lo]},$$scope:{ctx:t}}}),d.$on("click",t[8]);let E=!!t[3]&&_n(t);return{c(){e=g("dialog"),n=g("article"),l=g("header"),o=X("Data: "),s=X(t[1]),r=X("/"),a=X(i),c=A(),q(d.$$.fragment),f=A(),p=g("figure"),m=g("table"),h=g("thead"),h.innerHTML='<tr><th scope="col">Day</th> <th scope="col">Shift</th> <th scope="col">Note</th> <th scope="col">Actions</th></tr>',v=A(),P=g("tbody"),E&&E.c(),_(m,"role","grid"),_(m,"class","svelte-g6isex"),_(n,"class","svelte-g6isex"),_(e,"class","svelte-g6isex")},m($,w){I($,e,w),u(e,n),u(n,l),u(l,o),u(l,s),u(l,r),u(l,a),u(l,c),U(d,l,null),u(n,f),u(n,p),u(p,m),u(m,h),u(m,v),u(m,P),E&&E.m(P,null),t[11](e),N=!0},p($,[w]){(!N||w&2)&&ve(s,$[1]),(!N||w&4)&&i!==(i=($[2]+1).toString().padStart(2,"0")+"")&&ve(a,i);const T={};w&32768&&(T.$$scope={dirty:w,ctx:$}),d.$set(T),$[3]?E?(E.p($,w),w&8&&y(E,1)):(E=_n($),E.c(),y(E,1),E.m(P,null)):E&&(ge(),j(E,1,1,()=>{E=null}),me())},i($){N||(y(d.$$.fragment,$),y(E),N=!0)},o($){j(d.$$.fragment,$),j(E),N=!1},d($){$&&O(e),Y(d),E&&E.d(),t[11](null)}}}function ro(t,e,n){const l=Le();let o,s,r,i;function a(){return C(this,null,function*(){n(3,i=[]);for(let[v,P]of Object.entries(yield ze(s,r)))i.push(zt({key:v},P));n(3,i)})}function c(v,P){return C(this,null,function*(){n(1,s=v),n(2,r=P),yield a(),o.show()})}function d(){return C(this,null,function*(){o.close()})}const f=()=>l("close"),p=(v,P)=>parseInt(v.key.split("-",3)[2],10)>parseInt(P.key.split("-",3)[2],10)?1:-1,m=v=>C(this,null,function*(){window.confirm(`Delete data for "${s}/${r+1}/${v.key.split("-",3)[2]}" ?`)&&(yield Ct(s,r,v.key),yield a())});function h(v){_e[v?"unshift":"push"](()=>{o=v,n(0,o)})}return[o,s,r,i,l,a,c,d,f,p,m,h]}class io extends se{constructor(e){super(),le(this,e,ro,oo,te,{open:6,close:7})}get open(){return this.$$.ctx[6]}get close(){return this.$$.ctx[7]}}function ao(t){let e,n,l,o,s,r,i,a,c,d;return{c(){e=g("div"),n=g("label"),l=X(`Year\r
                    `),o=g("input"),s=A(),r=g("label"),i=X(`Month\r
                    `),a=g("input"),_(o,"type","number"),_(o,"aria-invalid",t[4]),_(a,"type","number"),_(a,"min",1),_(a,"max",12),_(a,"aria-invalid",t[5])},m(f,p){I(f,e,p),u(e,n),u(n,l),u(n,o),re(o,t[0]),u(e,s),u(e,r),u(r,i),u(r,a),re(a,t[1]),c||(d=[G(o,"input",t[10]),G(o,"input",t[11]),G(a,"input",t[12]),G(a,"input",t[13])],c=!0)},p(f,p){p&16&&_(o,"aria-invalid",f[4]),p&1&&it(o.value)!==f[0]&&re(o,f[0]),p&32&&_(a,"aria-invalid",f[5]),p&2&&it(a.value)!==f[1]&&re(a,f[1])},d(f){f&&O(e),c=!1,Ee(d)}}}function co(t){let e,n,l,o,s;return{c(){e=g("label"),n=X(`Pick a Date\r
                `),l=g("input"),_(l,"type","month")},m(r,i){I(r,e,i),u(e,n),u(e,l),re(l,t[2]),o||(s=G(l,"input",t[9]),o=!0)},p(r,i){i&4&&re(l,r[2])},d(r){r&&O(e),o=!1,s()}}}function uo(t){let e,n,l,o,s,r,i,a,c;function d(m,h){return Lt()?co:ao}let p=d()(t);return{c(){e=g("dialog"),n=g("article"),p.c(),l=A(),o=g("footer"),s=g("button"),s.textContent="Cancel",r=A(),i=g("button"),i.textContent="Confirm",_(s,"class","contrast"),_(i,"type","submit"),_(n,"class","svelte-9p3cqr"),_(e,"class","svelte-9p3cqr")},m(m,h){I(m,e,h),u(e,n),p.m(n,null),u(n,l),u(n,o),u(o,s),u(o,r),u(o,i),t[16](e),a||(c=[G(s,"click",t[14]),G(i,"click",t[15])],a=!0)},p(m,[h]){p.p(m,h)},i:Q,o:Q,d(m){m&&O(e),p.d(),t[16](null),a=!1,Ee(c)}}}function fo(t,e,n){const l=Le();let o,s,r,i,a=!1,c=!1;function d(F,D){return C(this,null,function*(){n(0,s=F),n(1,r=D+1),o.show()})}function f(){return C(this,null,function*(){o.close()})}function p(){return C(this,null,function*(){n(2,i=`${s}-${r}`)})}function m(){return C(this,null,function*(){const[F,D]=i.split("-",2);n(0,s=parseInt(F,10)),n(1,r=parseInt(D,10))})}function h(){i=this.value,n(2,i)}function v(){s=it(this.value),n(0,s)}const P=()=>C(this,null,function*(){s===null?n(4,a=!0):n(4,a=!1)});function N(){r=it(this.value),n(1,r)}const E=()=>C(this,null,function*(){r<1||r>12||r===null?n(5,c=!0):n(5,c=!1)}),$=()=>C(this,null,function*(){return l("cancel")}),w=()=>C(this,null,function*(){c||a||l("submit",{year:s,month:r-1})});function T(F){_e[F?"unshift":"push"](()=>{o=F,n(3,o)})}return t.$$.update=()=>{t.$$.dirty&7&&!i&&s&&r&&p(),t.$$.dirty&4&&i&&m()},[s,r,i,o,a,c,l,d,f,h,v,P,N,E,$,w,T]}class ho extends se{constructor(e){super(),le(this,e,fo,uo,te,{open:7,close:8})}get open(){return this.$$.ctx[7]}get close(){return this.$$.ctx[8]}}const{document:mn}=Nn;function pn(t,e,n){const l=t.slice();return l[34]=e[n],l}function bn(t,e,n){const l=t.slice();return l[37]=e[n],l}function vn(t,e,n){const l=t.slice();return l[34]=e[n],l[41]=n,l}function $n(t){let e,n;return{c(){e=g("link"),_(e,"rel","stylesheet"),_(e,"href",n="/css/themes/"+t[0].currentTheme+".min.css")},m(l,o){I(l,e,o)},p(l,o){o[0]&129&&n!==(n="/css/themes/"+l[0].currentTheme+".min.css")&&_(e,"href",n)},d(l){l&&O(e)}}}function wn(t){let e,n,l,o,s,r,i,a,c,d,f,p,m,h,v,P,N,E,$,w,T,F,D,k,L,M,B,S,K,V,ce,W,pe,we,R,H,b,ee,x,ie,ue,Me,be,Fe,Ot,He,xe,Ue,Tt,et,Ye,It,Ce,je,Ae,gt,At,Ne=ae(t[0].shifts),de=[];for(let z=0;z<Ne.length;z+=1)de[z]=kn(vn(t,Ne,z));const qn=z=>j(de[z],1,1,()=>{de[z]=null});i=new Vs({}),i.$on("click",t[9]);let Ve=ae(t[7]),ke=[];for(let z=0;z<Ve.length;z+=1)ke[z]=yn(bn(t,Ve,z));Ue=new Ss({}),Ye=new Ms({});const Nt=[go,_o],Te=[];function Rt(z,oe){return z[5]?0:1}return Ce=Rt(t),je=Te[Ce]=Nt[Ce](t),{c(){e=g("article"),n=g("div"),l=g("label"),l.textContent="Shifts",o=A(),s=g("ul");for(let z=0;z<de.length;z+=1)de[z].c();r=A(),q(i.$$.fragment),a=A(),c=g("div"),d=A(),f=g("label"),p=X(`Start Date\r
                `),m=g("input"),h=A(),v=g("div"),P=g("label"),P.textContent="Rhythm",N=A(),E=g("button"),E.textContent="Edit",$=A(),w=g("article"),T=g("label"),F=X(`Themes\r
                `),D=g("select");for(let z=0;z<ke.length;z+=1)ke[z].c();k=A(),L=g("fieldset"),M=g("legend"),M.textContent="Mode",B=A(),S=g("label"),K=g("input"),ce=X(`\r
                    Auto`),W=A(),pe=g("label"),we=g("input"),H=X(`\r
                    Dark`),b=A(),ee=g("label"),x=g("input"),ue=X(`\r
                    Light`),Me=A(),be=g("article"),Fe=g("h2"),Fe.textContent="Data Storage",Ot=A(),He=g("div"),xe=g("button"),q(Ue.$$.fragment),Tt=A(),et=g("button"),q(Ye.$$.fragment),It=A(),je.c(),_(l,"class","svelte-1j70psx"),_(s,"class","shifts-available"),_(n,"class","shifts svelte-1j70psx"),_(c,"class","spacer svelte-1j70psx"),_(m,"type","date"),_(m,"name","start-date"),_(m,"class","shift-start-date"),_(f,"for","start-date"),_(f,"class","svelte-1j70psx"),_(P,"class","svelte-1j70psx"),_(E,"class","secondary svelte-1j70psx"),_(v,"class","rhythm svelte-1j70psx"),_(e,"class","shift-scheduler"),t[0].currentTheme===void 0&&Qe(()=>t[12].call(D)),_(T,"class","svelte-1j70psx"),_(K,"type","radio"),K.value="auto",K.checked=V=t[0].mode==="auto",_(S,"class","svelte-1j70psx"),_(we,"type","radio"),we.value="dark",we.checked=R=t[0].mode==="dark",_(pe,"class","svelte-1j70psx"),_(x,"type","radio"),x.value="light",x.checked=ie=t[0].mode==="light",_(ee,"class","svelte-1j70psx"),_(w,"class","themes"),_(Fe,"class","svelte-1j70psx"),_(xe,"class","upload secondary outline svelte-1j70psx"),_(et,"class","download secondary outline svelte-1j70psx"),_(He,"class","button-group svelte-1j70psx"),_(be,"class","data-storage svelte-1j70psx")},m(z,oe){I(z,e,oe),u(e,n),u(n,l),u(n,o),u(n,s);for(let ye=0;ye<de.length;ye+=1)de[ye]&&de[ye].m(s,null);u(s,r),U(i,s,null),u(e,a),u(e,c),u(e,d),u(e,f),u(f,p),u(f,m),re(m,t[0].startDate),u(e,h),u(e,v),u(v,P),u(v,N),u(v,E),I(z,$,oe),I(z,w,oe),u(w,T),u(T,F),u(T,D);for(let ye=0;ye<ke.length;ye+=1)ke[ye]&&ke[ye].m(D,null);Ke(D,t[0].currentTheme,!0),u(w,k),u(w,L),u(L,M),u(L,B),u(L,S),u(S,K),u(S,ce),u(L,W),u(L,pe),u(pe,we),u(pe,H),u(L,b),u(L,ee),u(ee,x),u(ee,ue),I(z,Me,oe),I(z,be,oe),u(be,Fe),u(be,Ot),u(be,He),u(He,xe),U(Ue,xe,null),u(He,Tt),u(He,et),U(Ye,et,null),u(be,It),Te[Ce].m(be,null),Ae=!0,gt||(At=[G(m,"input",t[10]),G(E,"click",t[11]),G(D,"change",t[12]),G(K,"change",t[13]),G(we,"change",t[14]),G(x,"change",t[15]),G(xe,"click",t[16]),G(et,"click",t[17])],gt=!0)},p(z,oe){if(oe[0]&9){Ne=ae(z[0].shifts);let ne;for(ne=0;ne<Ne.length;ne+=1){const tt=vn(z,Ne,ne);de[ne]?(de[ne].p(tt,oe),y(de[ne],1)):(de[ne]=kn(tt),de[ne].c(),y(de[ne],1),de[ne].m(s,r))}for(ge(),ne=Ne.length;ne<de.length;ne+=1)qn(ne);me()}if(oe[0]&129&&re(m,z[0].startDate),oe[0]&128){Ve=ae(z[7]);let ne;for(ne=0;ne<Ve.length;ne+=1){const tt=bn(z,Ve,ne);ke[ne]?ke[ne].p(tt,oe):(ke[ne]=yn(tt),ke[ne].c(),ke[ne].m(D,null))}for(;ne<ke.length;ne+=1)ke[ne].d(1);ke.length=Ve.length}oe[0]&129&&Ke(D,z[0].currentTheme),(!Ae||oe[0]&129&&V!==(V=z[0].mode==="auto"))&&(K.checked=V),(!Ae||oe[0]&129&&R!==(R=z[0].mode==="dark"))&&(we.checked=R),(!Ae||oe[0]&129&&ie!==(ie=z[0].mode==="light"))&&(x.checked=ie);let ye=Ce;Ce=Rt(z),Ce===ye?Te[Ce].p(z,oe):(ge(),j(Te[ye],1,1,()=>{Te[ye]=null}),me(),je=Te[Ce],je?je.p(z,oe):(je=Te[Ce]=Nt[Ce](z),je.c()),y(je,1),je.m(be,null))},i(z){if(!Ae){for(let oe=0;oe<Ne.length;oe+=1)y(de[oe]);y(i.$$.fragment,z),y(Ue.$$.fragment,z),y(Ye.$$.fragment,z),y(je),Ae=!0}},o(z){de=de.filter(Boolean);for(let oe=0;oe<de.length;oe+=1)j(de[oe]);j(i.$$.fragment,z),j(Ue.$$.fragment,z),j(Ye.$$.fragment,z),j(je),Ae=!1},d(z){z&&(O(e),O($),O(w),O(Me),O(be)),Pe(de,z),Y(i),Pe(ke,z),Y(Ue),Y(Ye),Te[Ce].d(),gt=!1,Ee(At)}}}function kn(t){let e,n;const l=[t[34]];function o(){return t[8](t[41])}let s={};for(let r=0;r<l.length;r+=1)s=J(s,l[r]);return e=new ot({props:s}),e.$on("click",o),{c(){q(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},p(r,i){t=r;const a=i[0]&1?$e(l,[Se(t[34])]):{};e.$set(a)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function yn(t){let e,n=t[37]+"",l;return{c(){e=g("option"),l=X(n),e.__value=t[37],re(e,e.__value)},m(o,s){I(o,e,s),u(e,l)},p:Q,d(o){o&&O(e)}}}function _o(t){let e,n,l;return{c(){e=g("button"),e.textContent="Load Data",_(e,"class","load-data svelte-1j70psx")},m(o,s){I(o,e,s),n||(l=G(e,"click",t[20]),n=!0)},p:Q,i:Q,o:Q,d(o){o&&O(e),n=!1,l()}}}function go(t){let e,n,l,o,s,r=t[6],i,a=Sn(t);return{c(){e=g("figure"),n=g("table"),l=g("thead"),l.innerHTML='<tr><th scope="col">Year</th> <th scope="col">Month</th> <th scope="col">Actions</th></tr>',o=A(),s=g("tbody"),a.c(),_(n,"role","grid")},m(c,d){I(c,e,d),u(e,n),u(n,l),u(n,o),u(n,s),a.m(s,null),i=!0},p(c,d){d[0]&64&&te(r,r=c[6])?(ge(),j(a,1,1,Q),me(),a=Sn(c),a.c(),y(a,1),a.m(s,null)):a.p(c,d)},i(c){i||(y(a),i=!0)},o(c){j(a),i=!1},d(c){c&&O(e),a.d(c)}}}function mo(t){let e,n;return e=new ws({}),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function po(t){let e,n;return e=new Vn({}),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function Dn(t){let e,n,l,o,s,r,i,a,c,d,f;function p(){return t[18](t[34])}i=new Ie({props:{style:`
                                                    margin: 4px;
                                                `,$$slots:{default:[mo]},$$scope:{ctx:t}}}),i.$on("click",p);function m(){return t[19](t[34])}return c=new Ie({props:{style:`
                                                    margin: 4px;
                                                `,$$slots:{default:[po]},$$scope:{ctx:t}}}),c.$on("click",m),{c(){e=g("tr"),n=g("td"),n.textContent=`${t[34].year}`,l=A(),o=g("td"),o.textContent=`${t[34].month+1}`,s=A(),r=g("td"),q(i.$$.fragment),a=A(),q(c.$$.fragment),d=A(),_(r,"class","actions svelte-1j70psx")},m(h,v){I(h,e,v),u(e,n),u(e,l),u(e,o),u(e,s),u(e,r),U(i,r,null),u(r,a),U(c,r,null),u(e,d),f=!0},p(h,v){t=h;const P={};v[1]&2048&&(P.$$scope={dirty:v,ctx:t}),i.$set(P);const N={};v[1]&2048&&(N.$$scope={dirty:v,ctx:t}),c.$set(N)},i(h){f||(y(i.$$.fragment,h),y(c.$$.fragment,h),f=!0)},o(h){j(i.$$.fragment,h),j(c.$$.fragment,h),f=!1},d(h){h&&O(e),Y(i),Y(c)}}}function Sn(t){let e,n,l=ae(St().sort(Cn).sort(Pn)),o=[];for(let r=0;r<l.length;r+=1)o[r]=Dn(pn(t,l,r));const s=r=>j(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=Be()},m(r,i){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(r,i);I(r,e,i),n=!0},p(r,i){if(i[0]&66){l=ae(St().sort(Cn).sort(Pn));let a;for(a=0;a<l.length;a+=1){const c=pn(r,l,a);o[a]?(o[a].p(c,i),y(o[a],1)):(o[a]=Dn(c),o[a].c(),y(o[a],1),o[a].m(e.parentNode,e))}for(ge(),a=l.length;a<o.length;a+=1)s(a);me()}},i(r){if(!n){for(let i=0;i<l.length;i+=1)y(o[i]);n=!0}},o(r){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)j(o[i]);n=!1},d(r){r&&O(e),Pe(o,r)}}}function bo(t){let e,n,l,o,s,r,i,a,c,d,f,p,m=!!t[0]&&$n(t),h=!!t[0]&&wn(t),v={};s=new Ks({props:v}),t[21](s),s.$on("cancel",t[22]),s.$on("submit",t[23]);let P={};i=new Xs({props:P}),t[24](i),i.$on("cancel",t[25]),i.$on("submit",t[26]);let N={};c=new As({props:N}),t[27](c),c.$on("cancel",t[28]),c.$on("submit",t[29]);let E={};return f=new io({props:E}),t[30](f),f.$on("close",t[31]),{c(){m&&m.c(),e=Be(),n=A(),l=g("div"),h&&h.c(),o=A(),q(s.$$.fragment),r=A(),q(i.$$.fragment),a=A(),q(c.$$.fragment),d=A(),q(f.$$.fragment),_(l,"class","container svelte-1j70psx")},m($,w){m&&m.m(mn.head,null),u(mn.head,e),I($,n,w),I($,l,w),h&&h.m(l,null),I($,o,w),U(s,$,w),I($,r,w),U(i,$,w),I($,a,w),U(c,$,w),I($,d,w),U(f,$,w),p=!0},p($,w){$[0]?m?m.p($,w):(m=$n($),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),$[0]?h?(h.p($,w),w[0]&1&&y(h,1)):(h=wn($),h.c(),y(h,1),h.m(l,null)):h&&(ge(),j(h,1,1,()=>{h=null}),me());const T={};s.$set(T);const F={};i.$set(F);const D={};c.$set(D);const k={};f.$set(k)},i($){p||(y(h),y(s.$$.fragment,$),y(i.$$.fragment,$),y(c.$$.fragment,$),y(f.$$.fragment,$),p=!0)},o($){j(h),j(s.$$.fragment,$),j(i.$$.fragment,$),j(c.$$.fragment,$),j(f.$$.fragment,$),p=!1},d($){$&&(O(n),O(l),O(o),O(r),O(a),O(d)),m&&m.d($),O(e),h&&h.d(),t[21](null),Y(s,$),t[24](null),Y(i,$),t[27](null),Y(c,$),t[30](null),Y(f,$)}}}const Cn=(t,e)=>t.year>e.year?1:-1,Pn=(t,e)=>t.month>e.month&&t.year===e.year?1:-1;function vo(t,e,n){let l,o,s,r,i,a=["custom","picocss"],c=!1,d=!1;function f(){return C(this,null,function*(){yield Un(),n(0,i=Z)})}function p(){return C(this,null,function*(){console.warn("saving data..."),i.mode!=="auto"?document.documentElement.setAttribute("data-theme",i.mode):document.documentElement.removeAttribute("data-theme"),yield Gl(i)})}const m=b=>C(this,null,function*(){s.open(i.shifts,b.toString())}),h=()=>C(this,null,function*(){return o.open()});function v(){i.startDate=this.value,n(0,i),n(7,a)}const P=()=>C(this,null,function*(){r.open(i.shifts,i.shiftRhythm)});function N(){i.currentTheme=Pt(this),n(0,i),n(7,a)}const E=()=>C(this,null,function*(){return n(0,i.mode="auto",i)}),$=()=>C(this,null,function*(){return n(0,i.mode="dark",i)}),w=()=>C(this,null,function*(){return n(0,i.mode="light",i)}),T=()=>C(this,null,function*(){const b=document.createElement("input");b.type="file",b.onchange=()=>C(this,null,function*(){const ee=new FileReader;ee.onload=()=>C(this,null,function*(){if(typeof ee.result=="string")try{const x=JSON.parse(ee.result);for(const[ie,ue]of Object.entries(x))if(!Ul(ue)){console.error(`Data Upload: data "${ie}" invalid`,ue);return}for(const[ie,ue]of Object.entries(x)){const Me=ie.split("-",3),be=parseInt(Me[1],10),Fe=parseInt(Me[2],10);yield jt(be,Fe,ue)}}catch(x){alert(`Data upload failed!
${x}`)}}),ee.onerror=x=>C(this,null,function*(){console.error("Data Upload: Read file failed:",x)}),ee.readAsText(b.files[0])}),b.click()}),F=()=>C(this,null,function*(){const b=yield Vl();try{yield ql(b,Lt()?"android":"browser")}catch(ee){alert(`Data download failed!
${ee}`)}}),D=b=>C(this,null,function*(){l.open(b.year,b.month)}),k=b=>C(this,null,function*(){window.confirm(`Delete all data for "${b.year}/${(b.month+1).toString().padStart(2,"0")}" ?`)&&(yield Hn(b.year,b.month),n(6,d=!d))}),L=()=>C(this,null,function*(){n(5,c=!0)});function M(b){_e[b?"unshift":"push"](()=>{s=b,n(3,s)})}const B=()=>{s.close()},S=ee=>C(this,[ee],function*({detail:b}){s.close(),n(0,i.shifts=b,i)});function K(b){_e[b?"unshift":"push"](()=>{r=b,n(4,r)})}const V=()=>{r.close()},ce=ee=>C(this,[ee],function*({detail:b}){r.close(),n(0,i.shiftRhythm=b,i)});function W(b){_e[b?"unshift":"push"](()=>{o=b,n(2,o)})}const pe=()=>C(this,null,function*(){o.close()}),we=b=>C(this,null,function*(){o.close();const ee=b.detail;ee.name&&(ee.id=new Date().getTime(),n(0,i.shifts=[...i.shifts,ee],i))});function R(b){_e[b?"unshift":"push"](()=>{l=b,n(1,l)})}const H=()=>C(this,null,function*(){l.close()});return t.$$.update=()=>{t.$$.dirty[0]&1&&(!i&&f()||p())},[i,l,o,s,r,c,d,a,m,h,v,P,N,E,$,w,T,F,D,k,L,M,B,S,K,V,ce,W,pe,we,R,H]}class $o extends se{constructor(e){super(),le(this,e,vo,bo,te,{},null,[-1,-1])}}function wo(t){let e,n,l=t[1].getFullYear()+"",o,s,r=(t[1].getMonth()+1).toString().padStart(2,"0")+"",i,a,c,d,f=[{class:a="date-picker--preview outline"+t[0]},t[3]],p={};for(let m=0;m<f.length;m+=1)p=J(p,f[m]);return{c(){e=g("button"),n=g("span"),o=X(l),s=X(" / "),i=X(r),Ge(e,p),he(e,"svelte-s4b8vb",!0)},m(m,h){I(m,e,h),u(e,n),u(n,o),u(n,s),u(n,i),e.autofocus&&e.focus(),c||(d=G(e,"click",t[4]),c=!0)},p(m,[h]){h&2&&l!==(l=m[1].getFullYear()+"")&&ve(o,l),h&2&&r!==(r=(m[1].getMonth()+1).toString().padStart(2,"0")+"")&&ve(i,r),Ge(e,p=$e(f,[h&1&&a!==(a="date-picker--preview outline"+m[0])&&{class:a},h&8&&m[3]])),he(e,"svelte-s4b8vb",!0)},i:Q,o:Q,d(m){m&&O(e),c=!1,d()}}}function ko(t,e,n){const l=["class","currentDate"];let o=Je(e,l);const s=Le();let{class:r=""}=e,{currentDate:i}=e;const a=()=>s("click",{year:i.getFullYear(),month:i.getMonth()});return t.$$set=c=>{e=J(J({},e),fe(c)),n(3,o=Je(e,l)),"class"in c&&n(0,r=c.class),"currentDate"in c&&n(1,i=c.currentDate)},[r,i,s,o,a]}class yo extends se{constructor(e){super(),le(this,e,ko,wo,te,{class:0,currentDate:1})}}const{document:Do}=Nn;function En(t,e,n){const l=t.slice();return l[34]=e[n],l[36]=n,l}function Mn(t){let e,n,l;return n=new Ie({props:{$$slots:{default:[So]},$$scope:{ctx:t}}}),n.$on("click",t[14]),{c(){e=g("div"),q(n.$$.fragment),_(e,"class","actions svelte-58inj3")},m(o,s){I(o,e,s),U(n,e,null),l=!0},p(o,s){const r={};s[1]&64&&(r.$$scope={dirty:s,ctx:o}),n.$set(r)},i(o){l||(y(n.$$.fragment,o),l=!0)},o(o){j(n.$$.fragment,o),l=!1},d(o){o&&O(e),Y(n)}}}function So(t){let e,n;return e=new Al({}),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function Co(t){let e;return{c(){e=g("h1"),e.textContent="Settings",at(e,"margin","0"),at(e,"margin-left","8px")},m(n,l){I(n,e,l)},p:Q,i:Q,o:Q,d(n){n&&O(e)}}}function Po(t){let e,n,l;function o(r){t[15](r)}let s={style:"margin: 0; width: 30rem;"};return t[3]!==void 0&&(s.currentDate=t[3]),e=new yo({props:s}),_e.push(()=>ol(e,"currentDate",o)),e.$on("click",t[16]),{c(){q(e.$$.fragment)},m(r,i){U(e,r,i),l=!0},p(r,i){const a={};!n&&i[0]&8&&(n=!0,a.currentDate=r[3],nl(()=>n=!1)),e.$set(a)},i(r){l||(y(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){Y(e,r)}}}function jn(t){let e,n,l,o,s,r;return e=new Ie({props:{margin:"8px 4px",$$slots:{default:[Eo]},$$scope:{ctx:t}}}),e.$on("click",t[17]),l=new Ie({props:{margin:"8px 4px",disabled:t[13].getFullYear()===t[3].getFullYear()&&t[13].getMonth()===t[3].getMonth(),$$slots:{default:[Mo]},$$scope:{ctx:t}}}),l.$on("click",t[18]),s=new Ie({props:{margin:"8px 4px",$$slots:{default:[jo]},$$scope:{ctx:t}}}),s.$on("click",t[19]),{c(){q(e.$$.fragment),n=A(),q(l.$$.fragment),o=A(),q(s.$$.fragment)},m(i,a){U(e,i,a),I(i,n,a),U(l,i,a),I(i,o,a),U(s,i,a),r=!0},p(i,a){const c={};a[1]&64&&(c.$$scope={dirty:a,ctx:i}),e.$set(c);const d={};a[0]&8&&(d.disabled=i[13].getFullYear()===i[3].getFullYear()&&i[13].getMonth()===i[3].getMonth()),a[1]&64&&(d.$$scope={dirty:a,ctx:i}),l.$set(d);const f={};a[1]&64&&(f.$$scope={dirty:a,ctx:i}),s.$set(f)},i(i){r||(y(e.$$.fragment,i),y(l.$$.fragment,i),y(s.$$.fragment,i),r=!0)},o(i){j(e.$$.fragment,i),j(l.$$.fragment,i),j(s.$$.fragment,i),r=!1},d(i){i&&(O(n),O(o)),Y(e,i),Y(l,i),Y(s,i)}}}function Eo(t){let e,n;return e=new Pl({}),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function Mo(t){let e,n;return e=new Ll({}),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function jo(t){let e,n;return e=new zl({}),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function Lo(t){let e,n;return e=new $o({}),{c(){q(e.$$.fragment)},m(l,o){U(e,l,o),n=!0},p:Q,i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function Oo(t){let e,n,l={};return e=new _s({props:l}),t[20](e),e.$on("click",t[21]),e.$on("currentdatechange",t[22]),{c(){q(e.$$.fragment)},m(o,s){U(e,o,s),n=!0},p(o,s){const r={};e.$set(r)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){t[20](null),Y(e,o)}}}function Ln(t){let e,n,l,o,s;n=new ot({props:{name:"Reset",visible:!1,active:t[7]===-2,color:"var(--color)",id:-2}}),n.$on("click",t[23]);let r=ae(Z.shifts),i=[];for(let c=0;c<r.length;c+=1)i[c]=On(En(t,r,c));const a=c=>j(i[c],1,1,()=>{i[c]=null});return{c(){e=g("span"),q(n.$$.fragment),l=A();for(let c=0;c<i.length;c+=1)i[c].c();o=Be()},m(c,d){I(c,e,d),U(n,e,null),I(c,l,d);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(c,d);I(c,o,d),s=!0},p(c,d){const f={};if(d[0]&128&&(f.active=c[7]===-2),n.$set(f),d[0]&128){r=ae(Z.shifts);let p;for(p=0;p<r.length;p+=1){const m=En(c,r,p);i[p]?(i[p].p(m,d),y(i[p],1)):(i[p]=On(m),i[p].c(),y(i[p],1),i[p].m(o.parentNode,o))}for(ge(),p=r.length;p<i.length;p+=1)a(p);me()}},i(c){if(!s){y(n.$$.fragment,c);for(let d=0;d<r.length;d+=1)y(i[d]);s=!0}},o(c){j(n.$$.fragment,c),i=i.filter(Boolean);for(let d=0;d<i.length;d+=1)j(i[d]);s=!1},d(c){c&&(O(e),O(l),O(o)),Y(n),Pe(i,c)}}}function On(t){let e,n,l,o;const s=[t[34],{active:t[7]==t[36]}];function r(){return t[24](t[36])}let i={};for(let a=0;a<s.length;a+=1)i=J(i,s[a]);return n=new ot({props:i}),n.$on("click",r),{c(){e=g("span"),q(n.$$.fragment),l=A()},m(a,c){I(a,e,c),U(n,e,null),u(e,l),o=!0},p(a,c){t=a;const d=c[0]&128?$e(s,[s[0],{active:t[7]==t[36]}]):{};n.$set(d)},i(a){o||(y(n.$$.fragment,a),o=!0)},o(a){j(n.$$.fragment,a),o=!1},d(a){a&&O(e),Y(n)}}}function To(t){let e,n,l,o,s,r,i,a,c,d,f,p,m,h,v,P,N,E,$,w,T,F,D,k=t[4]!==t[5][0]&&Mn(t);const L=[Po,Co],M=[];function B(R,H){return R[4]==="calendar"?0:R[4]==="settings"?1:-1}~(r=B(t))&&(i=M[r]=L[r](t));let S=t[4]==="calendar"&&jn(t);const K=[Oo,Lo],V=[];function ce(R,H){return R[4]==="calendar"?0:R[4]==="settings"?1:-1}~(h=ce(t))&&(v=V[h]=K[h](t));let W=t[6]&&!!Z&&Ln(t),pe={};w=new ho({props:pe}),t[25](w),w.$on("cancel",t[26]),w.$on("submit",t[27]);let we={};return F=new Os({props:we}),t[28](F),F.$on("cancel",t[29]),F.$on("submit",t[30]),{c(){e=g("link"),l=A(),o=g("header"),k&&k.c(),s=A(),i&&i.c(),a=A(),c=g("span"),d=A(),f=g("div"),S&&S.c(),p=A(),m=g("main"),v&&v.c(),N=A(),E=g("footer"),W&&W.c(),$=A(),q(w.$$.fragment),T=A(),q(F.$$.fragment),_(e,"rel","stylesheet"),_(e,"href",n="/css/themes/"+t[8]+".min.css"),_(c,"class","spacer svelte-58inj3"),_(f,"class","actions svelte-58inj3"),at(o,"font-size","1rem"),at(o,"padding","4px"),_(o,"class","svelte-58inj3"),_(m,"style",P=`bottom: ${t[6]?"calc(3em + 22px)":"1px"}`),_(m,"class","svelte-58inj3"),_(E,"class","svelte-58inj3"),he(E,"visible",t[6])},m(R,H){u(Do.head,e),I(R,l,H),I(R,o,H),k&&k.m(o,null),u(o,s),~r&&M[r].m(o,null),u(o,a),u(o,c),u(o,d),u(o,f),S&&S.m(f,null),I(R,p,H),I(R,m,H),~h&&V[h].m(m,null),I(R,N,H),I(R,E,H),W&&W.m(E,null),I(R,$,H),U(w,R,H),I(R,T,H),U(F,R,H),D=!0},p(R,H){(!D||H[0]&256&&n!==(n="/css/themes/"+R[8]+".min.css"))&&_(e,"href",n),R[4]!==R[5][0]?k?(k.p(R,H),H[0]&48&&y(k,1)):(k=Mn(R),k.c(),y(k,1),k.m(o,s)):k&&(ge(),j(k,1,1,()=>{k=null}),me());let b=r;r=B(R),r===b?~r&&M[r].p(R,H):(i&&(ge(),j(M[b],1,1,()=>{M[b]=null}),me()),~r?(i=M[r],i?i.p(R,H):(i=M[r]=L[r](R),i.c()),y(i,1),i.m(o,a)):i=null),R[4]==="calendar"?S?(S.p(R,H),H[0]&16&&y(S,1)):(S=jn(R),S.c(),y(S,1),S.m(f,null)):S&&(ge(),j(S,1,1,()=>{S=null}),me());let ee=h;h=ce(R),h===ee?~h&&V[h].p(R,H):(v&&(ge(),j(V[ee],1,1,()=>{V[ee]=null}),me()),~h?(v=V[h],v?v.p(R,H):(v=V[h]=K[h](R),v.c()),y(v,1),v.m(m,null)):v=null),(!D||H[0]&64&&P!==(P=`bottom: ${R[6]?"calc(3em + 22px)":"1px"}`))&&_(m,"style",P),R[6]&&Z?W?(W.p(R,H),H[0]&64&&y(W,1)):(W=Ln(R),W.c(),y(W,1),W.m(E,null)):W&&(ge(),j(W,1,1,()=>{W=null}),me()),(!D||H[0]&64)&&he(E,"visible",R[6]);const x={};w.$set(x);const ie={};F.$set(ie)},i(R){D||(y(k),y(i),y(S),y(v),y(W),y(w.$$.fragment,R),y(F.$$.fragment,R),D=!0)},o(R){j(k),j(i),j(S),j(v),j(W),j(w.$$.fragment,R),j(F.$$.fragment,R),D=!1},d(R){R&&(O(l),O(o),O(p),O(m),O(N),O(E),O($),O(T)),O(e),k&&k.d(),~r&&M[r].d(),S&&S.d(),~h&&V[h].d(),W&&W.d(),t[25](null),Y(w,R),t[28](null),Y(F,R)}}}function Io(t,e,n){let l,o,s;function r(){s.set(i)}let i=new Date;function a(b){return C(this,null,function*(){b&&n(3,i=b),s.set(i)})}let c="calendar",d=[c];function f(b){return C(this,null,function*(){n(6,m=!1),n(5,d=[...d,b]),n(4,c=b),c==="calendar"&&N()})}function p(){return C(this,null,function*(){d.length!==1&&(d.pop(),n(5,d),n(4,c=d[d.length-1]))})}let m=!1,h=-1;function v(){return C(this,null,function*(){return h===-2?"reset":Z.shifts[h]||null})}let P="custom";function N(){return C(this,null,function*(){Un().then(()=>{n(8,P=Z.currentTheme),Z.mode!=="auto"?document.documentElement.setAttribute("data-theme",Z.mode):document.documentElement.removeAttribute("data-theme")})})}let E=new Date;function $(){return C(this,null,function*(){const b=new Date,x=new Date(b.getFullYear(),b.getMonth(),b.getDate()+1,0,0,0,0).getTime()-b.getTime();console.debug(`updateToday: timeout set to ${x}`),setTimeout(()=>{console.debug("update today: reload calendar"),s.reload(),$()},x)})}xn(()=>C(this,null,function*(){Lt()&&wl.addListener("backButton",()=>p()),N(),$()}));const w=()=>p();function T(b){i=b,n(3,i)}const F=ee=>C(this,[ee],function*({detail:b}){l.open(b.year,b.month)}),D=()=>{n(6,m=!m)},k=()=>a(new Date),L=()=>f("settings");function M(b){_e[b?"unshift":"push"](()=>{s=b,n(0,s)})}const B=ee=>C(this,[ee],function*({detail:b}){if(b&&m){let x=yield v();if(!x)return;const ie=`${b.getFullYear()}-${b.getMonth()}-${b.getDate()}`,{note:ue}=yield Yl(b.getFullYear(),b.getMonth(),ie);x==="reset"?(x=null,ue?yield $t(b.getFullYear(),b.getMonth(),ie,null,ue):yield Ct(b.getFullYear(),b.getMonth(),ie)):yield $t(b.getFullYear(),b.getMonth(),ie,x,ue),s.reload()}else b&&o.open(b.getFullYear(),b.getMonth(),b.getDate())}),S=({detail:b})=>n(3,i=b),K=()=>{n(7,h=h===-2?-1:-2)},V=b=>{n(7,h=h===b?-1:b)};function ce(b){_e[b?"unshift":"push"](()=>{l=b,n(1,l)})}const W=()=>C(this,null,function*(){l.close()}),pe=ee=>C(this,[ee],function*({detail:b}){a(new Date(b.year,b.month)),l.close()});function we(b){_e[b?"unshift":"push"](()=>{o=b,n(2,o)})}const R=()=>C(this,null,function*(){o.close()}),H=ee=>C(this,[ee],function*({detail:b}){const x=`${b.date.year}-${b.date.month}-${b.date.date}`;!b.shift&&!b.note?yield Ct(b.date.year,b.date.month,x):yield $t(b.date.year,b.date.month,x,b.shift,b.note),o.close(),s.reload()});return t.$$.update=()=>{t.$$.dirty[0]&1&&s&&r()},[s,l,o,i,c,d,m,h,P,a,f,p,v,E,w,T,F,D,k,L,M,B,S,K,V,ce,W,pe,we,R,H]}class Ao extends se{constructor(e){super(),le(this,e,Io,To,te,{},null,[-1,-1])}}new Ao({target:document.getElementById("app")});export{Dt as E,Fn as W,vl as b};
